/*! Thrive Content Builder - 2017-07-25
* http://www.thrivethemes.com/
* Copyright (c) 2017 Thrive Themes */

!function(a){"use strict";var b,c,d,e,f,g={".js":[],".json":[],".css":[],".html":[]},h="function"==typeof require?require:null;return e=function(a){var b=new Error("Could not find module '"+a+"'");return b.code="MODULE_NOT_FOUND",b},f=function(a,b,c){var d,e;if("function"==typeof a[b+c])return b+c;for(d=0;e=g[c][d];++d)if("function"==typeof a[b+e])return b+e;return null},b=function(a,d,g,h,i,j){var k,l,m,n,o,p;for(g=g.split("/"),k=g.pop(),"."!==k&&".."!==k||(g.push(k),k="");null!=(l=g.shift());)if(l&&"."!==l&&(".."===l?(a=d.pop(),j=j.slice(0,j.lastIndexOf("/"))):(d.push(a),a=a[l],j+="/"+l),!a))throw e(h);if(k&&"function"!=typeof a[k]&&(p=f(a,k,".js"),p||(p=f(a,k,".json")),p||(p=f(a,k,".css")),p||(p=f(a,k,".html")),p?k=p:2!==i&&"object"==typeof a[k]&&(d.push(a),a=a[k],j+="/"+k,k="")),!k)return 1!==i&&a[":mainpath:"]?b(a,d,a[":mainpath:"],h,1,j):b(a,d,"index",h,2,j);if(!(o=a[k]))throw e(h);return o.hasOwnProperty("module")?o.module.exports:(m={},o.module=n={exports:m,id:j+"/"+k},o.call(m,m,n,c(a,d,j)),n.exports)},d=function(c,d,f,g){var i,j=f,k=f.charAt(0),l=0;if("/"===k){if(j=j.slice(1),!(c=a["/"])){if(h)return h(f);throw e(f)}g="/",d=[]}else if("."!==k){if(i=j.split("/",1)[0],!(c=a[i])){if(h)return h(f);throw e(f)}g=i,d=[],j=j.slice(i.length+1),j||(j=c[":mainpath:"],j?l=1:(j="index",l=2))}return b(c,d,j,f,l,g)},(c=function(a,b,c){return function(e){return d(a,[].concat(b),e,c)}})(a,[],"")}({workspace:{editor:{js:{editor:{src:{"compat.js":function(a,b,c){!function(a){b.exports={dom_ready:function(){this.texts(),this.rows()},texts:function(b){b=b||a("#tve_editor");for(var c,d,e=TVE.ELEM.text,f=TVE.ELEM.headings,g=b.find(e).not(TVE.TEXT_INLINE).not(".thrv_custom_html_shortcode *, .tve_wp_shortcode *, .thrive-shortcode-html *, .tve_scT *"),h=a();g.length;){for(h=c=g.first();c.next().is(e);)h=h.add(h.next()),c=c.next();g=g.not(h),d=1===h.length&&h.is(f),d?c.parent().is(TVE.TEXT_HEADINGS+","+TVE.TEXT_BLOCK)||h.wrap('<div class="thrv_wrapper thrv_heading"></div>'):c.parent().is(".thrv_text_element")||h.wrapAll('<div class="thrv_wrapper thrv_text_element"></div>')}g=b.find(".thrv_tw_qs_button span span"),g.addClass("thrv-inline-text tve_editable")},rows:function(b){b=b||a("#tve_editor"),b.find(".tcb-flex-row.thrv_wrapper").each(function(b,c){var d=a(c);d.removeClass("thrv_wrapper"),d.wrap('<div class="thrv_wrapper thrv-columns"></div>')}),b.find(".tcb-flex-col").each(function(){var b=a(this),c=b.parent();b.children(".tcb-col").length||(b.children(".col-empty").remove(),b.children().not(".ui-resizable-handle").wrapAll('<div class="tcb-col"></div>')),c.hasClass("tve-flex-end")?c.addClass("tcb-flex-end").removeClass("tve-flex-end"):c.hasClass("tve-flex-center")?c.addClass("tcb-flex-center").removeClass("tve-flex-center"):c.hasClass("tve-flex-start")&&c.removeClass("tve-flex-start")})},insert_css_rule:function(a,b,c){for(var d,e=0;d=TVE.stylesheet.cssRules[e++];)if(d.selectorText===a){b=d.style.cssText+b,TVE.stylesheet.deleteRule(e);break}TVE.stylesheet.insertRule(a+"{"+b+"}",c)},get_css_rules:function(a){for(var b,c=0;b=TVE.stylesheet.cssRules[c++];)if(b.type===CSSRule.STYLE_RULE&&b.cssText&&b.selectorText&&-1!==b.selectorText.indexOf('data-tve-custom-colour="'+a))return b.cssText;return""}}}(jQuery)},"drag.js":function(a,b,c){!function(a){function c(a,b,c,e){var f={x:a.left-b.left,y:a.top-b.top+d.scrollTop()},g=c/e,h=.33*c,i=f.x>f.y*g,j=f.y*g+f.x<c;return k.dropzone_element&&f.y>e/4&&f.y<3*e/4&&f.x>c/4&&f.x<3*c/4?"mid":k.limit_vertical?k.can_position_mid&&f.y>e/4&&f.y<3*e/4?"mid":f.y<e/2?"top":"bottom":f.x>=h&&f.x<2*h?f.y<e/2?"top":"bottom":i&&j?"top":i&&!j?"right":!i&&j?"left":"bottom"}var d,e,f=".thrv_wrapper:not(.canvas-mode,.thrv-styled_list *), p:not(.thrv_custom_html_shortcode p, .wp-caption p), .tve-draggable:not(.canvas-mode), .tve_lp_header, .tve_lp_content, .tve_lp_footer, "+"ul,ol,address,blockquote".split(",").map(function(a){return".thrv_text_element "+a}).join(","),g=".thrv_page_section, .thrv-page-section, .tve-page-section-in, .thrv-columns.tcb-elem-placeholder, .tcb-window-w, .tve_lp_content",h=null,i=null,j=!1,k={},l=a(),m=a(),n=function(a){return!a.is(o())&&a.is(p())},o=function(){return TVE.apply_filters("non_draggable",".tve_no_drag, .thrive_leads_shortcode *, .thrive_ultimatum_shortcode *, .tve_faqB *, .tve_wp_shortcode *, .thrv_bullets_shortcode ul, .thrv_tw_qs *, .thrv_post_grid *, .thrv_custom_html_shortcode *, .thrv_widget *, .thrv_widget_menu *, .tve_w_menu, .tve_w_menu *, .tve_lg_input_container *,.thrive-shortcode-html *")},p=function(){return TVE.apply_filters("draggable_elements",".thrv_wrapper,.tve-draggable")},q=function(){return TVE.apply_filters("droppable_targets",f)},r=function(a){return a.is(o())},s=function(a){return!!a.length&&("tve-drop-handle"===a[0].id||TVE.apply_filters("allow_dragenter",a.is(q())&&!a.is(".tve_wp_shortcode *"),a))},t=function(a){return"tve-drop-handle"!==a[0].id&&s(a)},u=function(a){return a.is(".tve_colm, .tve_colm .tve_grt, .tve_faqC, td, th, .fwi, .tve_content_inner, .thrv_content_reveal, .tve_scTC, .cck, .tve_empty_dropzone:not(.tcb-flex-col), .tcb-col, #tve_editor, .tve-cb, .tve_lp_content")},v=function(a){var b=a[0].className.toString();return-1!==b.indexOf("tve-page-section-in")||-1!==b.indexOf("tve-cb")||-1!==b.indexOf("tve_reveal_container")},w=function(a,b){return!!(a&&a.className&&a.className.indexOf)&&-1!==a.className.indexOf(b)},x=function(){var a=A&&A.is(".canvas-mode");return"disabled"===TVE.Editor_Page.STATE&&!a},y=function(){return h&&h.is(".thrv-page-section, .tcb-window-width")||TVE.main.dragged_elem&&"section"===TVE.main.dragged_elem.type},z=null,A=null,B={init:function(){d=TVE.inner.$document,e=a(document.body),i=this.page_scroll("tcb_lightbox"===tve_path_params.post_type?"#tve-p-scroller":"body"),window.$tve_drag_handle=a('<div id="tve-drag-handle" class="no-blur" draggable="true"></div>').appendTo("body"),m=a('<div id="tve-drag-clone"></div>').appendTo(e),d.add(TVE.$document).on("keydown",this.keydown).on("keyup",this.keyup)},insert_from_parent:function(a){TVE.Editor_Page.enable(),TVE.Editor_Page.blur(),this.fetch(a,this.get_available_target()),e.removeClass("tve-empty-placeholder")},keydown:function(a){!j&&a.ctrlKey&&(j=!0)},keyup:function(a){j=!1},body_class:function(){requestAnimationFrame(function(){e.addClass("tve-dragging")})},handle_mouseover:function(a){return!(!TVE.allow_drag()||!TVE.state_manager.is_default())&&(!!n(a)&&(window.$tve_drag_handle.show(),window.$tve_drag_handle.data("el",a),void window.$tve_drag_handle[a.is(TVE.ActiveElement)?"addClass":"removeClass"]("tve-selected")))},hide_handle:function(){window.$tve_drag_handle.hide()},editorActions:function(a){return k.page_init(),TVE.Editor_Page.editor.find(p()).not(o()).addClass("tve-draggable"),TVE.Editor_Page.editor.find(q()).addClass("tve-droppable"),a?(A=a,TVE.Editor_Page.editor.parent().off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb"),e.off("drop.tcb dragover.tcb "),A.off().add(k.$el).on("dragenter.tcb",this.dragenter).on("dragleave.tcb",this.dragleave).on("dragover.tcb",this.dragover).on("drop.tcb",this.drop)):(A&&A.off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb"),A=null,TVE.Editor_Page.editor.add(k.$el).off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb").on("dragenter.tcb",this.dragenter).on("dragleave.tcb",this.dragleave).on("dragover.tcb",this.dragover).on("drop.tcb",this.drop),e.off("dragstart.tcb").on("dragstart.tcb","#tve-drag-handle",this.dragstart).off("dragend.tcb").on("dragend.tcb","#tve-drag-handle",this.dragend).off("drop.tcb").on("drop.tcb",this.drop).off("dragover.tcb").on("dragover.tcb",this.dragover_body)),this.refresh()},get_available_target:function(){var b,c=a(".edit_mode");if(k.data("dir","bottom"),0===c.length){c=TVE.Editor_Page.editor.find(".tve_editor_main_content").first(),c.length||(c=TVE.Editor_Page.editor),k.data("dir","mid"),b=c.children().last(),b.length&&(c=b,k.data("dir","bottom"));var d=TVE.inner.$window.scrollTop();c.offset().top+c.height()>TVE.inner.$window.height()+d&&a("html,body").animate({scrollTop:c.offset().top+c.height()})}return k.data("tt",c),c},dragstart:function(b){return!(!TVE.allow_drag()||x())&&(h=window.$tve_drag_handle.data("el"),r(h)?(h=null,!1):(a("#tcb-el-icons .tcb-icon").hide(),a("#tcb-el-name").hide(),TVE.state(TVE.STATE_DRAG),TVE.froala.disable(h),h.addClass("tve-dragged").removeClass("active_delete active_duplicate"),B.body_class(),b.stopPropagation(),b.originalEvent.dataTransfer.setData("text/plain",""),m.empty().append(h.clone()),b.originalEvent.dataTransfer.setDragImage(m[0],m.width()/2,10),void(h.is(g)&&(k.force_limit_vertical=!0))))},main_drag_start:function(a){if(TVE.state(TVE.STATE_DRAG),B.body_class(),a.static_element){var b=a.static_element;b.length&&b.children().first().is(g)&&(k.force_limit_vertical=!0)}},dragend:function(b){TVE.state(TVE.STATE_DEFAULT),e.removeClass("tve-dragging"),a(".tve-dragged").removeClass("tve-dragged"),a(".tve-dragged-over").removeClass("tve-dragged-over"),h=null,z=null,k.reset(),i.hide(),void 0!==b&&!0===b&&TVE.main.child_drag_end()},dragenter:function(b){if((h||TVE.main.dragged_elem)&&"tve-drop-handle"!==b.target.id){if(k.limit_vertical=k.force_limit_vertical,k.data("append",!1),"tve-drop-handle"===b.target.id)return B.cancel_dragleave=!0,!1;if(z=a(b.target),h&&a.contains(h[0],z[0]))return void(z=null);if(y()&&(z=z.closest(TVE.Editor_Page.editor.children(f)),z.length||(z=TVE.Editor_Page.editor)),"tve_editor"===b.target.id){var c;b.pageY<TVE.Editor_Page.editor.offset().top+30&&(c=TVE.Editor_Page.editor.children(f)).length&&(z=c.first())}if(delete k.dropzone_element,!s(z)){if(u(z)&&0===z.children(q()).length)return v(z)?(k.dropzone_element=!0,z.is(g)&&(k.limit_vertical=!0)):k.position_mid(z),b.preventDefault(),l.removeClass("tve-dragged-over"),z.addClass("tve-dragged-over"),!1;z.children(q()).length<2&&(z=z.closest(q()))}return s(z)?(k.last_dir=null,b.preventDefault(),l.removeClass("tve-dragged-over"),l=z,z.addClass("tve-dragged-over"),z.is(g)&&(k.limit_vertical=!0),k.can_position_mid=u(z)&&0===z.children(f).length,!1):void(z=null)}},dragover:function(b){if(b.preventDefault(),z&&(t(z)||k.dropzone_element)&&(!h||!a.contains(h[0],z[0])))return k.position(z,b),z.addClass("tve-dragged-over"),!1},dragover_body:function(a){if(k&&k.data("tt"))return a.preventDefault(),!1},dragleave:function(b){if(B.cancel_dragleave)return delete B.cancel_dragleave,!1;var c=a(b.target);return"mid"!==k.data("dir")&&c.removeClass("tve-dragged-over"),k.is(":visible")&&c.removeClass("tve-dragged-over"),k.last_dir=null,!1},drop:function(b){if(b.preventDefault(),b.stopPropagation(),!TVE.main.dragged_elem&&!h||!k.data("tt")||!k.data("tt")[0])return!1;if(h){if(!TVE.apply_filters("allow_drop",!0,[h,k]))return!1}return h&&a.contains(h[0],k.data("tt")[0])?void 0:(e.removeClass("tve-dragging tve-empty-placeholder"),h&&h.removeClass("tve-dragged"),k.hide(),i.hide(),TVE.main.dragged_elem?B.fetch(TVE.main.dragged_elem,k.data("tt")):B.insert(h,k.data("tt")),h=null,B.dragend(),!1)},bind_draggable:function(a){a.add(a.find(p())).filter(p()).not(o()).addClass("tve-draggable"),a.add(a.find(q())).filter(q()).addClass("tve-droppable")},refresh:function(){TVE.Editor_Page.editor.find(q()).each(function(){if(w(this.parentNode,"tcb-flex-col"))return!0;this.parentNode.classList.add("tve_empty_dropzone")}).end().find("a,img").attr("draggable","false"),C.bind(),a("#tve-drag-clone").remove()},fetch:function(a,b){if(!1===this.before_fetch(a,b))return!1;var c=a.type;if(TVE.renderers[c])return B.insert(TVE.renderers[c].render_default(),b,!1,!1,!0),!0;var d=TVE.main.static_element(c);if(d.length<=0)return!1;var e=d.first().clone();return e.find(".tve_countdown_timer_evergreen").attr("data-id","evergreen_"+Math.floor(1e4*Math.random())),B.insert(e.html(),b,!1,!1,!0),!0},before_fetch:function(a,b){var c=!0;return a.data&&a.data.usertpl?(this.load_template(a.data.key,b),c=!1):a.type&&(TVE.main.trigger("insert_element",a),a.prevent_insert&&(c=!1)),c},after_fetch:function(a){a.hasClass("thrv_content_container_shortcode")?a.parent().addClass("tve_clearfix"):a.hasClass("thrv_countdown_timer")?a.hasClass("tve_countdown_timer_evergreen")?a.tve_countdown_timer_evergreen().update():a.tve_countdown_timer().update():a.find(".tve_vtabs").length?a.tve_tabs().resize():a.hasClass("thrv_lead_generation")||a.hasClass("thrv_social_default")&&TVE_Content_Builder.social.onDefaultInsert(a),TVE.apply_filters("element_drop",a)},insert:function(b,c,d,e,f){d=void 0!==d&&d,e=void 0!==e&&e,TVE.Editor_Page.before_action(),TVE.Editor_Page.disable();var g=a(b);return d?(c.html(g),g.hasClass("tve_table")&&(g=g.parent())):e?c.replaceWith(g):this.insert_near(g,c,k.data("dir")),this.bind_draggable(g),void 0!==f&&f&&B.after_fetch(g),B.after_drop(g),setTimeout(function(){TVE.Editor_Page.after_action(),B.refresh(),g.hasClass("tcb-elem-placeholder")&&g.children(".tcb-inline-placeholder-action").first().trigger("click")},400),TVE.prevent_blur||(TVE.Editor_Page.enable(),TVE.Editor_Page.blur()),g},after_drop:function(a){var b=a[0];if(w(b,"thrv_social_default"))return void TVE_Content_Builder.social.onDefaultDrop(a)},insert_near:function(a,b,c){var d,e=a[0]===b[0];if(h&&(d=a.parent()),b.hasClass("thrv_text_element")||b.is(".thrv_text_element *"))if(a.hasClass("thrv_text_element"))"top"===c||"bottom"===c?(a.detach(),a=a.children(),b.hasClass("thrv_text_element")&&(b="top"===c?b.find(f).first():b.find(f).last())):b=b.closest(".thrv_text_element");else{var g=b.prevAll(),i=b.nextAll(),j=b.closest(".thrv_text_element");"top"===k.data("dir")&&g.length?(g.wrapAll('<div class="thrv_wrapper thrv_text_element"></div>'),j.before(g.parent())):"bottom"===k.data("dir")&&i.length&&(i.wrapAll('<div class="thrv_wrapper thrv_text_element"></div>'),j.after(i.parent())),b=j}switch(c){case"mid":if(e)return;b.append(a);break;case"top":if(e)return;b.before(a);break;case"bottom":if(e)return;b.after(a);break;case"right":case"left":var l,m,n,o=a.parent();if(e&&1===o.children().length)return;if(w(b[0],"thrv-columns"))b=b.find(".tcb-flex-row").first(),n=b.children(".tcb-flex-col")["right"===c?"last":"first"](),m="right"===c?"after":"before";else if(w(b[0].parentNode.parentNode,"tcb-flex-col"))n=b.closest(".tcb-flex-col"),m="right"===c?"after":"before";else{if(e)return;b.wrap('<div class="thrv_wrapper thrv-columns tve-draggable"><div class="tcb-flex-row"></div></div>'),b.wrap('<div class="tcb-flex-col"></div>').wrap('<div class="tcb-col"></div>'),m="right"===c?"append":"prepend",n=b.closest(".tcb-flex-row")}a.wrap('<div class="tcb-flex-col"></div>').wrap('<div class="tcb-col"></div>'),l=b.closest(".tcb-flex-row"),n[m](a.closest(".tcb-flex-col")),l.hasClass("tcb-resized")?(l.removeClass("tcb-resized"),l.children().head_css({"max-width":""},"_ALL")):-1!==l[0].className.search("tve-flex-wrap-[d|t|m](?!-)")&&a.parent().head_css_copy(n),l.children().removeClass("c-25 c-33 c-50 c-66 c-75")}a.addClass("tve-dropped"),setTimeout(function(){a.removeClass("tve-dropped")},200),this.ensure_column_placeholder(d),this.row_class(a.parents(".tcb-flex-row").first()),this.bind_draggable(a)},after_clone:function(a,b){this.bind_draggable(b),b.hasClass("thrv_social_default")&&TVE_Content_Builder.social.onDefaultDrop(b),this.refresh()},after_remove:function(a){B.ensure_column_placeholder(a),window.$tve_drag_handle.hide()},ensure_column_placeholder:function(a){a&&a.length&&w(a[0],"tcb-flex-col")&&0===a.children(".tcb-col").length&&(a.children().not(".ui-resizable-handle").wrapAll('<div class="tcb-col"></div>'),this.row_class(a.parent(),!0))},remove_column:function(a){var b=a.parent(),c=a.siblings().removeClass("c-25 c-33 c-50 c-66 c-75");if(a.remove(),0===c.length)return void b.parent().remove();w(b[0],"tcb-resized")&&(b.removeClass("tcb-resized"),c.head_css({"max-width":""},"_ALL")),this.row_class(b)},row_class:function(a,b){if(a&&a.jquery){b=void 0!==b&&b;var c=a.children().length;a.parent().toggleClass("tcb-row-empty",c===a.find(".tcb-flex-col > .tcb-col:empty").children().length),b||(a.removeClass(function(a,b){return b.split(" ").filter(function(a){return-1!==a.indexOf("tcb--cols--")}).join(" ")}).addClass("tcb--cols--"+c),c>10&&a.addClass("tcb--cols--high"),this.resize_images(a))}},resize_images:function(b){b.find(".tve_image_caption").each(function(){var b=parseInt(this.style.width),c=a(this),d=c.width();isNaN(b)||b>d&&(c.css("width",d+"px"),c.find(".tve_image").css("width",d+"px"))})},load_template:function(b,c){c.addClass("tcb-el-loading"),TVE.ajax("load_content_template","post",{template_key:b}).done(function(b){var d=a(b.html_code);d=TVE.apply_filters("tcb_insert_content_template",d),d=TVE.Editor_Page.content_manager.process_saved_template(b.css_code,d,b.media_css),c.removeClass("tcb-el-loading"),B.insert(d,c,!1,!0)}).always(function(){c.removeClass("tcb-el-loading")})},page_scroll:function(b){function c(b,c){if(void 0===c&&(c=!1),i.is(":animated"))return!0;var f=i.is("body")?a(window).scrollTop():i.scrollTop();return-1==b?(e.removeClass("tve_scroll_hide"),0===f?d.addClass("tve_scroll_hide").removeClass("tve_drag_hover"):d.removeClass("tve_scroll_hide")):(d.removeClass("tve_scroll_hide"),f+a(window).height()>=a("body").height()-45?e.addClass("tve_scroll_hide").removeClass("tve_drag_hover"):e.removeClass("tve_scroll_hide")),c||i.animate({scrollTop:f+120*b},80,"linear"),!0}void 0===b&&(b="body");var d=a('<div id="tve_page_scroller_top" class="tve_window_drag_scroll"><span class="tve_arrow tve_icm tve-ic-caret-up"></span><div class="tve_drag_events"></div></div>').appendTo(b),e=a('<div id="tve_page_scroller_bottom" class="tve_window_drag_scroll"><span class="tve_arrow tve_icm tve-ic-caret-down"></span><div class="tve_drag_events"></div></div>').appendTo(b),f=d.add(e),g=null,h=null,i=a(b);return i.is("body")&&(i=a("body,html")),f.each(function(){var b=a(this).children(".tve_drag_events").first();b.on("dragenter",function(){var b=a(this).parent(),e=b.is(d)?-1:1;clearInterval(h),g=e,h=setInterval(function(){c(e)},20),b.addClass("tve_drag_hover")}),b.on("dragleave",function(){clearInterval(h),a(this).parent().removeClass("tve_drag_hover")})}),c(-1,!0),{show:function(){f.show()},hide:function(){clearInterval(h),f.removeClass("tve_drag_hover tve_scroll_hide")}}},get_selection_type:function(b){var c=!1;return!!b.length&&(b.each(function(){return!1===c?(c=a(this).data("tve-el-type"),!0):c!=a(this).data("tve-el-type")?(c=!1,!1):void 0}),c)},convert_old_columns:function(b){var c=b.children(),d="tcb-flex-row tcb--cols--"+c.length,e="thrv_wrapper tve-draggable tve-droppable edit_mode",f={tve_oth:"c-33",tve_tth:"c-66",tve_foc:"c-25",tve_tfo:"c-75",tve_twc:"c-50"};c.length>=4||2===c.filter(".tve_twc,.tve_oth").length||c.each(function(){var b=this;a.each(f,function(a,c){b.className=b.className.replace(a,c)})}),c.removeClass("tve_colm tve_df tve_ofo tve_fic tve_lst tve_foc tve_tfo tve_twc tve_oth tve_tth tve_thc").addClass("tcb-flex-col"),b.removeClass("thrv_columns tve_clearfix "+e).addClass(d).wrap('<div class="thrv-columns '+e+'"></div>'),c.each(function(){a(this).children().wrapAll('<div class="tcb-col"></div>')}),C.bind(b)},position_resizables:function(a,b){C.position_handles(a,b)}},C={position_handles:function(a,b){void 0===b&&(b=parseInt(a.children(".tcb-flex-col").first().css("paddingLeft")));var c=b>=6?(b-6)/2+"px":0;a.find("> .tcb-flex-col > .ui-resizable-handle").css("padding","0 "+c+" 0 "+c).css("marginLeft",0===c?"-3px":"")},bind:function(b){b=b||TVE.Editor_Page.editor;var c,d,e,f={},g=15,h=null,i=a("<span>",{class:"ui-resize-left"}),k=a("<span>",{class:"ui-resize-right"}),l=b.find(".tcb-flex-col");l.find(".ui-resizable-handle").remove(),l.each(function(){var b=a(this);b.data("ui-resizable")&&b.resizable("destroy")}),l.resizable({handles:"e",start:function(b,j){TVE.Editor_Page.before_action(),TVE.Editor_Page.editor.addClass("tcb-resizing"),d=j.element.parent(),c=d.width();var l=j.element.children(".ui-resizable-handle");e=d.children(".tcb-flex-col"),d.hasClass("tcb-resized")||(e.each(function(){var b=a(this);b.head_css({"max-width":b.outerWidth()/c*100+"%"})}),d.addClass("tcb-resized")),d.addClass("tcb-resizing"),l.before(i),l.after(k),g=parseInt(j.element.css("padding-left")),f={elem:j.element.outerWidth()/c*100,next:j.element.next().outerWidth()/c*100},h=null},stop:function(a,b){setTimeout(function(){TVE.Editor_Page.editor.removeClass("tcb-resizing"),TVE.Editor_Page.reposition_icons()}),b.element.head_css({"max-width":h.elem+"%"}),b.element.next().head_css({"max-width":h.next+"%"}),b.element.css("width",""),e.css({"max-width":""}),d.removeClass("tcb-resizing"),b.element.find(".ui-resize-left, .ui-resize-right").remove(),B.resize_images(d),TVE.Editor_Page.after_action()},resize:function(a,b){var d,e=(100*(g+b.size.width)/c).toFixed(1),l=e-5*Math.floor(e/5),m=e-(h?h.elem:f.elem);return j&&(e=5*parseInt(e/5)),d=(f.next-e+f.elem).toFixed(1),(!j||!(0===l||m>0&&l>3||m<0&&l>2))&&(!(e*c/100<=100||d*c/100<=100)&&(b.element.css({"max-width":e+"%"}),b.element.next().css({"max-width":d+"%"}),h={elem:e,next:d},i.html(parseFloat(e).toFixed(j?0:1)+"%"),k.html(parseFloat(d).toFixed(j?0:1)+"%"),TVE.Editor_Page.reposition_icons(),!1))}}),b.find(".tcb-flex-row").each(function(){C.position_handles(a(this))})}};k.page_init=function(){this.$el||(this.$el=a('<div id="tve-drop-handle"></div>').appendTo("body"))},k.show=function(){return this.$el.show(),this},k.hide=function(){return this.$el.hide(),this},k.data=function(){return this.$el.data.apply(this.$el,arguments)},k.is=function(){return this.$el.is.apply(this.$el,arguments)},k.reset=function(){this.$el.hide(),this.last_dir=null,this.$el.data("append",null),this.limit_vertical=null,this.force_limit_vertical=null,this.$el.data("tt",null)},k.position=function(a,b){var d;(w(a[0].parentNode.parentNode,"tcb-flex-col")||w(a[0].parentNode,"thrv_text_element")||w(a[0].parentNode,"fr-element"))&&(d=a.closest(".tcb-flex-col,.thrv_text_element"));var e,f,g,h,i=a.offset(),j=a.outerWidth(),k=a.outerHeight(),l=c({left:b.clientX,top:b.clientY,limit_vertical:a.limit_vertical},i,j,k);if(this.last_dir===l)return this;if("mid"===l)return this.position_mid(a);switch(!d||"left"!=l&&"right"!=l||(a.removeClass("tve-dragged-over"),d.addClass("tve-dragged-over"),i=d.offset(),k=d.outerHeight(),j=d.outerWidth()),this.data("tt",this.dropzone_element?a.closest(".thrv_wrapper"):a),this.last_dir=l,l){case"top":e=j,f=4,g=i.top-4,h=i.left;break;case"right":e=4,f=k,g=i.top,h=i.left+j,h+e>TVE.inner.$window.width()&&(h-=4);break;case"bottom":e=j,f=4,g=i.top+k,h=i.left,g+f>TVE.inner.$window.height()+TVE.inner.$window.scrollTop()&&(g-=4);break;case"left":e=4,f=k,g=i.top,h=i.left-4}this.$el.css({width:e+"px",height:f+"px",top:(g<0?0:g)+"px",left:(h<0?0:h)+"px",opacity:1}).show().data("dir",l)},k.position_mid=function(a){this.$el.data("tt",a),this.last_dir="mid";var b=a.offset();this.$el.css({width:a.outerWidth(),height:4,top:b.top+a.outerHeight()/2,left:b.left}).show().data("dir","mid")},b.exports=B}(jQuery)},"editor-page.js":function(a,b,c){!function(a){b.exports={selection_manager:c("./util/selection-manager"),content_manager:c("./util/content"),STATE:"enabled",editor:null,event:null,winWidth:null,htmlOffset:null,save_notification_timeout:null,onDOMReady:function(){TVE.drag.init(),this.winWidth=a(window).width(),this.editor=a("#tve_editor"),this.$body=a("body"),this.bind_events(),TVE.apply_filters("main_ajax_callback"),TVE.main.editor_loaded(),TVE.apply_filters("editor_loaded_callback"),TVE.CONST.landing_page&&this.landingPageInit()},bind_events:function(){this.editor.is(":empty")&&this.$body.addClass("tve-empty-placeholder"),TVE.bind_global_events(),this.initEditorActions(),this.editor.off("click.tcbaction").on("click.tcbaction",".tcb-click",function(a){for(var b=this.getAttribute("data-fn"),c=TVE,d=b.split("."),e=window;c&&d.length;)e=c,c=c[d.shift()];if("function"==typeof c)return c.call(e,a)})},initEditorActions:function(){this.editor=a("#tve_editor"),TVE.compat.dom_ready(),this.selection_manager.init(this.editor),TVE.stylesheet=function(){var b=a(".tve_custom_style");b.length||(b=a('<style type="text/css" class="tve_custom_style"></style>').appendTo(a("head")));var c=b[0];return c.styleSheet?c.styleSheet.cssText=c.styleSheet.cssText+"":c.appendChild(document.createTextNode("")),c.sheet}(),TVE.CSS_Rule_Cache.init(),a(".thrv_post_grid").tve_post_grid().after_render().masonry();var b=a(".thrv_countdown_timer");b.length&&b.addClass("init_done").each(function(){a(this).hasClass("tve_countdown_timer_evergreen")?a(this).tve_countdown_timer_evergreen().update():a(this).tve_countdown_timer().update()}),TVE.drag.editorActions(),this.enableSaveWarning(),TVE.froala.init()},blur:function(a){a=void 0===a||a,this.selection_manager.blur(a)},focus_element:function(b,c){if(!TVE.allow_edit()||"enabled"!==this.STATE&&!this.editor.find(".canvas-mode").length)return!1;if(!b.hasClass("edit_mode")){this.blur(),TVE.state(TVE.STATE_EDIT),b.addClass("edit_mode");var d=new a.Event("element_selected");if(TVE.main.element_selected(b,d),d.isDefaultPrevented())return b.removeClass("edit_mode"),!1;setTimeout(function(){b.focus()},0)}},duplicate_element:function(a){TVE.froala.disable(a);var b=a.clone();return a.after(b),a.data("tve-el-type")&&b.data("tve-el-type",a.data("tve-el-type")),b.removeClass("edit_mode canvas-mode active_highlight active_delete active_duplicate"),TVE.drag.after_clone(a,b),this},remove_element:function(a){var b=a.parent();return TVE.froala.disable(a),this.blur(!0),a.is(".thrv_tabs_shortcode > .tve_scT > ul li")?(a.parents(".thrv_tabs_shortcode").first().tve_tabs().removeTab(a),this):b.is("ul,ol")&&1==b.find("li").length?b.parent().is(".thrv_bullets_shortcode")?this.remove_element(b.parent()):this.remove_element(b):b.hasClass("thrv_toggle_shortcode")&&1===b.children(".tve_faq").length?this.remove_element(b):TVE.apply_filters("allow_remove",!0,[a])?(a.hasClass("tcb-col")?TVE.drag.remove_column(a.parent()):(a.remove(),TVE.drag.after_remove(b)),this.editor.is(":empty")&&this.$body.addClass("tve-empty-placeholder"),TVE.apply_filters("element_remove",a),this):this},is_disabled:function(){return"disabled"===this.STATE},disable:function(){this.selection_manager.hide_icons(),TVE.body_overlay(),this.STATE="disabled"},enable:function(){this.STATE="enabled",TVE.remove_body_overlay(),a(this).trigger("editor.onenable")},thriveShrtcodeConfig:function(a,b){var c="__CONFIG_"+b+"__";return{update:function(a,b){var c=this.get();c[b]=a,this.save(c)},save:function(b){a.html(c+JSON.stringify(b).replace(/\\"/g,"_tve_quote_")+c)},get:function(){var b=new RegExp(c,"g");return JSON.parse(a.html().replace(/_tveutf8_/g,"\\u").replace(b,"").replace(/\\\'/g,"'").replace(/_tve_quote_/g,'\\"'))}}},enableSaveWarning:function(){var b=this;TVE.CONST.tve_display_save_notification=parseInt(TVE.CONST.tve_display_save_notification),TVE.CONST.tve_display_save_notification&&!this.save_notification_timeout&&(this.save_notification_timeout=setInterval(function(){TVE.page_message('<div class="tve_icm tve-ic-close"></div><p><strong>Reminder</strong></p><br/><p>You have not saved your work for 10 minutes.</p><p>We recommend you perform a save to make sure you don\'t lose any work !</p></br><a id="tve-stop-saving-warning" style="display: block; text-align: right" href="javascript:void(0)">Stop reminding me for this work only !</a>',-1,6e3),TVE.$("#tve-stop-saving-warning").click(function(){TVE.$notification.fadeOut(200),b.disableSaveWarning(),TVE.CONST.tve_display_save_notification=0}),TVE.$notification.find(".tve-ic-close").click(function(){a(this).parent().fadeOut(200)})},6e5))},disableSaveWarning:function(){TVE.CONST.tve_display_save_notification=parseInt(TVE.CONST.tve_display_save_notification),TVE.CONST.tve_display_save_notification&&(clearInterval(this.save_notification_timeout),this.save_notification_timeout=null)},save:function(a,b,c){function d(){TVE.login_callback||(TVE.login_callback=TVE.Editor_Page.save.apply(TVE.Editor_Page,f)),TVE.relogin()}TVE.main.trigger("tve.tve_save_post");var e=this.content_manager.prepare_save_data(a,c),f=arguments,g="save_post";TVE.CONST.save_post_action&&(g="save_post_external",e.external_action=TVE.CONST.save_post_action);var h=TVE.ajax(g,"post",e).done(function(c){return"0"===String(c)?d():c.success?(a&&(c.revisions&&TVE.RevisionManager.reset_revisions(c.revisions),TVE.page_message(TVE.t.AllChangesSaved)),void("function"==typeof b?b(c):TVE.main.overlay("close"))):TVE.page_message(c.message,!0,5e3)}).always(function(a,b){});return h.tcb_error=function(a){if(a.responseText)try{if("nonce_expired"===JSON.parse(a.responseText).code)return d(),!1}catch(a){}return!0},this.disableSaveWarning(),this.enableSaveWarning(),TVE.UndoManager&&TVE.UndoManager.clear(),h},editor_content:function(){return a("<div></div>").html(this.editor.html()).find(".tve_placeholder, .tve-ui-helper, .rangySelectionBoundary").remove().end().html()},before_action:function(){return window.content_before_action=this.editor_content(),window.content_editor_class=this.editor.attr("class"),this},after_action:function(){function b(b){this.editor.html(b),this.editor.attr("class",d),TVE.drag.refresh(),a(this).trigger("editor.onundo")}var c=window.content_before_action,d=window.content_editor_class,e=this.editor_content();return TVE.UndoManager.add({undo:a.proxy(b,this,c),redo:a.proxy(b,this,e)}),this},get_custom_css:function(b){var c=a("style#tve_head_custom_css");return 0===c.length?void 0!==b&&b?"/** Insert your custom CSS rules here. **/":"":c.text()},add_custom_css:function(b){var c=a("style#tve_head_custom_css");0===c.length&&(c=a('<style type="text/css" class="tve_user_custom_style" id="tve_head_custom_css"></style>').appendTo(a("head"))),c.text(b)},reposition_icons:function(a){this.is_disabled()||(void 0===a&&(a=TVE.ActiveElement),a&&1===a.length&&this.selection_manager.reposition_icons(a))},landingPageInit:function(){function a(a){var b={},c=a[0].style;if(a.attr("style")){var d=" !important";c.backgroundColor&&(b["background-color"]=c.backgroundColor+d),c.backgroundImage&&(b["background-image"]=c.backgroundImage+d),c.backgroundSize&&(b["background-size"]=c.backgroundSize+d),c.backgroundAttachment&&(b["background-attachment"]=c.backgroundAttachment+d),a.removeAttr("style"),TVE.SKIP_CSS_STATE=!0,a.head_css(b),TVE.SKIP_CSS_STATE=!1}}TVE.main.on("element_selected",function(){TVE.ActiveElement.is("body.tve_lp")&&a(TVE.ActiveElement)}),TVE.add_filter("tcb_save_post_data_before",function(a){var b,c=TVE.CONST.tve_globals;return(b=TVE.inner.$body.attr("data-css"))&&(c.body_css=b,delete c.lp_bg,delete c.lp_bgi,delete c.lp_bgp,delete c.lp_bga),a})}}}(jQuery)},"editor.js":function(a,b,c){function d(){jQuery(".tve_cpanel_onpage, .tve_secondLayer, .tve_secondLayer>div").removeClass("tve_menu_visible").hide(),jQuery("html,body").tve_css("overflow-x",""),delete h.loaded_menu,delete h.edit_element}function e(a,b,c,d){void 0===c&&(c=""),void 0===d&&(d="");var e=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,f='[data-tve-custom-colour="'+a+'"]'+c,g="[data-tve-custom-colour='"+a+"']"+c;for(f=d+f,g=d+g,TVE.stylesheet.crossdelete=TVE.stylesheet.deleteRule?TVE.stylesheet.deleteRule:TVE.stylesheet.removeRule,i=0;i<e.length;i++)e[i].type!==CSSRule.MEDIA_RULE&&-1!==e[i].selectorText.indexOf(a)&&(e[i].selectorText!=f&&e[i].selectorText!=g&&e[i].selectorText!=a||(void 0!==b&&b?jQuery.each(b.split(" "),function(a,b){e[i].style.removeProperty?e[i].style.removeProperty(b):e[i].style.removeAttribute&&e[i].style.removeAttribute(b)}):(TVE.stylesheet.crossdelete(i),i--)))}function f(a,b){if(void 0===b&&(b=!1),a.length){var c=a.parents(".tve_option_separator").find("span").first();c.html(b?c.attr("data-default"):a.text())}}!function(a){function b(){if(!window.parent.TVE||!window.parent.TCB_READY)return setTimeout(b,100);window.TVE=window.parent.TVE,TVE.inner={window:window,document:document,jQuery:a,$window:a(window),$document:a(document)},a.extend(TVE,c("./util/general")),TVE.froala=c("./util/froala"),TVE.inner_$=a,
TVE.compat=c("./compat"),TVE.drag=c("./drag"),TVE.Editor_Page=c("./editor-page"),TVE.landing_fonts=c("./util/landing-fonts"),TVE.plugins={table:c("./util/table/editor")},a.extend(!0,TVE.CONST,tve_path_params),c("./util/jquery-plugins"),a(function(){TVE.inner.$body=a("body"),TVE.Editor_Page.onDOMReady(),TVE.inner.$window.trigger("tcb-ready")})}window.parent&&(window.parent.child_context=window,b())}(jQuery);var g="",h=h||{};elements_no_left_menu="",left_menu_hover_items=".thrv_wrapper:not(.thrv_paste_content), .tve_faq,"+g,right_menu_hover_items=g+",.thrv_wrapper, blockquote, .tve_clearfix li, ol, ul:not(.tve_scT > ul, .thrv_bullets_shortcode ul), ol li, ul li, .tve_faq, .tve_table_cell, .tve_p_lb_control, .thrv_feature_grid .tve_gri > .tve_image,.tve_element_hover",elements_without_delete_button=".thrv_toggle_shortcode h4, .thrv_testimonial_shortcode img, .tve_colm, .thrv_post_grid *, .thrv_custom_html_shortcode *, .tve_table_cell, .tve_rating_stars > span, .tve_rating_stars, .tve_wp_shortcode *, .thrv_widget *, .thrv_widget_menu ul *",contains_nested_elements=["UL","OL"],block_tags=["ADDRESS","BLOCKQUOTE","P","H1","H2","H3","H4","H5","H6","OL","UL","PRE"],window.last_colour_used="tve_red",custom_html_placeholder_class="tve_custom_html_placeholder",custom_html_default_html='<div class="tve_shortcode_overlay" style="width: 100%; height: 40px; background-color: rgba(0, 0, 0, 0.4); color: #fff; text-align: center;"><span style="display: inline-block; padding-top: 10px">No preview available.</span></div>',border_styles="tve_brdr_none tve_brdr_dotted tve_brdr_dashed tve_brdr_solid tve_brdr_double tve_brdr_groove tve_brdr_ridge tve_brdr_inset tve_brdr_outset",img_styles="img_style_dark_frame img_style_framed img_style_lifted_style1 img_style_lifted_style2 img_style_polaroid img_style_rounded_corners img_style_circle img_style_caption_overlay",rv_styles="rv_style_grey_monitor rv_style_black_monitor rv_style_black_tablet rv_style_white_tablet rv_style_white_frame rv_style_gray_frame rv_style_dark_frame rv_style_light_frame rv_style_lifted_style1 rv_style_lifted_style2 rv_style_lifted_style3 rv_style_lifted_style4 rv_style_lifted_style5 rv_style_lifted_style6 rv_style_none",rv_play_buttons="rv_button_rounded_rectangle_light rv_button_rounded_rectangle_dark rv_button_circular_dark rv_button_circular_outline_dark rv_button_simple_play_light rv_button_none",rv_accepted_extensions="mp4 m4v webm ogv wmv flv",window.custom_font_classes="",window.extra_font_classes="",jQuery.each(tve_path_params.custom_fonts,function(){custom_font_classes+=(custom_font_classes?" ":"")+this.font_class}),window.TVE&&TVE.CONST&&TVE.CONST.tve_globals.extra_fonts&&jQuery.each(TVE.CONST.tve_globals.extra_fonts,function(){extra_font_classes+=(extra_font_classes?" ":"")+this.font_class}),jQuery.expr[":"].contains=jQuery.expr.createPseudo(function(a){return function(b){return jQuery(b).text().toUpperCase().indexOf(a.toUpperCase())>=0}}),jQuery.fn.extend({tve_color_selector:function(a){return void 0!==a?a?this.attr("data-tve-custom-colour",a):this.removeAttr("data-tve-custom-colour"):this.attr("data-tve-custom-colour")},tve_remove_hover:function(){for(var a=0;a<10;a++)this.removeAttr("data-hover-"+a)},tve_css:function(a,b,c){if(b.length&&!c||!this[0]||!this[0].style.setProperty||!this[0].style.removeProperty)return this.css(a,b);var d={margin:["margin-left","margin-right","margin-top","margin-bottom"],padding:["padding-left","padding-right","padding-top","padding-bottom"]};return this.each(function(){var e=this;b.length?this.style.setProperty(a,b,c):d[a]?jQuery.each(d[a],function(a,b){e.style.removeProperty(b)}):this.style.removeProperty(a)})},tve_page_section:function(){var a=this,b=this.find("> .out"),c=b.find("> .in");return{ensureCompliant:function(){return c.find("> .cck").length||c.children().wrapAll('<div class="cck clearfix"></div>'),a},setBgPattern:function(a){this.clearBgImage().clearBgColor(),b.css({"background-image":"url('"+a+"')","background-repeat":"repeat"})},setBgImage:function(a){this.clearBgImage(),c.addClass("pddbg").css({"box-sizing":"border-box","background-image":"url('"+a.url+"')","background-repeat":"","max-width":TVE.Editor_Page.winWidth+"px"}),b.addClass("pswr"),this.transferShadow(),c.attr({"data-width":a.width,"data-height":a.height})},clearBgImage:function(){return c.removeClass("pddbg").css({"background-image":"","background-repeat":"","max-width":"","-moz-box-shadow":"","-webkit-box-shadow":"","box-shadow":"","box-sizing":""}),b.removeClass("pswr"),this},clearShadow:function(){return e(b.tve_color_selector(),"box-shadow -moz-box-shadow -webkit-box-shadow"),b.add(c).css({"-moz-box-shadow":"","-webkit-box-shadow":"","box-shadow":""}),this},clearBgPattern:function(){return b.removeClass("pattern1 pattern2 pattern3"),b.css({"background-image":"","background-repeat":""}),this},clearBgColor:function(){return b.tve_color_selector()&&e(b.tve_color_selector(),"background-color"),b.css("background-color",""),this},transferShadow:function(){var d=a.find(".out.pswr > .in");d.length?d.css({"-moz-box-shadow":b.css("-moz-box-shadow"),"-webkit-box-shadow":b.css("-webkit-box-shadow"),"box-shadow":b.css("box-shadow")}):c.css({"-moz-box-shadow":"","-webkit-box-shadow":"","box-shadow":""})},bgAttachment:function(b){if(c.removeClass("pdwbg"),b){a.find(".out.pswr > .in").length&&c.addClass("pdwbg")}},bgAutoHeight:function(a){if(c.removeClass("pdfbg").css({"box-sizing":"",height:"","min-height":"",width:""}),a){var b=parseInt(c.attr("data-width")),d=parseInt(c.attr("data-height"));if(isNaN(b)||isNaN(d))return;var e=c.parent().width(),f=e*d/b;e<=b?c.css("min-height",f+"px"):c.css({"min-height":d+"px"}),c.addClass("pdfbg").css({"box-sizing":"border-box"})}},position:function(a){a="bot"===a?"bottom":a,b.removeClass("top bot bottom"),"default"!=a&&b.addClass(a)}}},tve_thrive_ultimatum_shortcode:function(a){a=a||{};var b=this,c=TVE.Editor_Page.thriveShrtcodeConfig(b.find(".thrive-shortcode-config"),"ultimatum_shortcode");return{fetch:function(){try{var d=c.get()}catch(a){var d={}}jQuery.extend(d,a),d.action="tve_ajax_load",d.ajax_load="sc_thrive_ultimatum_shortcode",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,d,function(a){b.replaceWith(a),TVE.main.overlay("close")})},on_menu_open:function(a){var b=a.find("#tve_ultimatum_shortcode_list").empty(),c=tve_path_params.tu_shortcode_campaigns[this.config().id].designs;jQuery.each(c,function(a,c){var d=jQuery('<li data-value="'+a+'" class="tve_click tve-o-ultimatum-shortcode" data-ctrl="controls.thrive_ultimatum_shortcode.option" data-fn="fetch">'+c+"</li>");b.append(d)}),f(b.find('li[data-value="'+this.config().design+'"]'))},config:function(){try{return c.get()}catch(a){return{}}},lightbox:function(){var a=b.find("#tve_ult_campaign"),c=b.find("#tve_ult_shortcode");a.change(function(){c.html("");try{jQuery.each(tve_path_params.tu_shortcode_campaigns[this.value].designs,function(a,b){var d=jQuery("<option/>").text(b).val(a);c.append(d)}),c.find('option[value="'+c.attr("data-selected")+'"]').length&&c.val(c.attr("data-selected"))}catch(a){}}),a.trigger("change")}}},tve_thrive_leads_shortcode:function(){var a=this,b=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"leads_shortcode");return{fetch:function(c){try{var d=b.get()}catch(a){var d={}}d.thrive_leads_shortcode_id=c,d.nowrap=1,d.action="tve_ajax_load",d.ajax_load="sc_thrive_leads_shortcode",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,d,function(b){a.html(b),TVE.main.overlay("close")})},config:function(){try{return b.get()}catch(a){return{}}}}},tve_thrive_optin:function(){var a=this,b=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"optin"),c=a.find("> .thrive-shortcode-html > .scon"),d=a.find("input[type=text],select").length,e=a.find(".btn");return{fetch:function(c){var d=b.get();d.optin=c,d.nowrap=1,d.action="tve_ajax_load",d.ajax_load="sc_thrive_optin",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,d,function(b){a.html(b),TVE.main.overlay("close")})},color:function(a){jQuery.each(tve_path_params.thrive_optin_colors,function(a){e.removeClass(a)}),e.addClass(a),b.update(a,"color")},size:function(a){e.removeClass("small medium big").addClass(a),b.update(a,"size")},layout:function(a){c.removeClass("wide otit o1 o2 o3"),"horizontal"==a&&(c.addClass("wide o"+d),d>=3&&c.addClass("otit")),b.update(a,"layout")},text:function(a){e.find("input").val(a),b.update(a,"text")},config:function(){return b.get()}}},tve_countdown_timer:function(){var a=this,b=function(a,b){if(a.empty(),b<=99)a.prepend('<span class="part-1">'+b%10+"</span>"),a.prepend('<span class="part-2">'+Math.floor(b/10)+"</span>");else for(var c=0;b;)c++,a.prepend('<span class="part-'+c+'">'+b%10+"</span>"),b=Math.floor(b/10)};return{set:function(b,c){a.attr("data-"+b,c),this.update()},get:function(b){return"_all"==b?this.get("date")+"T"+this.get("hour")+":"+this.get("min")+":00"+this.get("timezone"):a.attr("data-"+b)},update:function(){var c=new Date,d=new Date(this.get("_all"));a.find(".tve_t_text").hide().html(this.get("text")),a.find(".tve_t_part").show();var e,f=0,g=0,h=0,i=0;c<d&&(f=Math.floor((d.getTime()-c.getTime())/1e3),g=Math.floor(f/60),h=Math.floor(g/60),i=Math.floor(h/24),e=2,f%=60,g%=60,h%=24,i>99&&(e=i.toString().length)),b(a.find(".tve_t_sec .t-digits"),f),b(a.find(".tve_t_min .t-digits"),g),b(a.find(".tve_t_hour .t-digits"),h),b(a.find(".tve_t_day .t-digits"),i),c<d&&!a.data("dd")?a.find(".tve_t_day .t-digits").css("min-width",e*a.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px"):a.find(".tve_t_day .t-digits").css("min-width","")},align:function(b){var c=a.children(".sc_timer_content");switch(c.css("margin-top",c.css("margin-top")),c.css("margin-bottom",c.css("margin-bottom")),b){case"left":c.removeClass("alignleft alignright aligncenter").addClass("alignleft");break;case"center":c.removeClass("alignleft alignright").addClass("tve_block_center");break;case"right":c.removeClass("alignleft alignright aligncenter").addClass("alignright");break;case"none":c.removeClass("alignleft alignright aligncenter").css("width","auto")}}}},tve_countdown_timer_evergreen:function(){var a=jQuery(this),b=a.tve_countdown_timer();return setValues=function(a,b){if(a.empty(),b<=99)a.prepend('<span class="part-1">'+b%10+"</span>"),a.prepend('<span class="part-2">'+Math.floor(b/10)+"</span>");else for(var c=0;b;)c++,a.prepend('<span class="part-'+c+'">'+b%10+"</span>"),b=Math.floor(b/10)},b.update=function(){var b=new Date,c=new Date;c.setTime(b.getTime()+24*parseInt(this.get("day"))*3600*1e3+3600*parseInt(this.get("hour"))*1e3+60*parseInt(this.get("min"))*1e3+1e3*parseInt(this.get("sec"))),a.find(".tve_t_text").hide().html(this.get("text")),a.find(".tve_t_part").show(),a.attr("data-id","undefined"!=typeof _?_.uniqueId("evergreen_"):"evergreen_"+parseInt(1e4*Math.random()));var d,e=0,f=0,g=0,h=0;return b<c&&(e=Math.floor((c.getTime()-b.getTime())/1e3),f=Math.floor(e/60),g=Math.floor(f/60),h=Math.floor(g/24),d=2,e%=60,f%=60,g%=24,h>99&&(d=h.toString().length)),setValues(a.find(".tve_t_sec .t-digits"),e),setValues(a.find(".tve_t_min .t-digits"),f),setValues(a.find(".tve_t_hour .t-digits"),g),setValues(a.find(".tve_t_day .t-digits"),h),b<c?a.find(".tve_t_day .t-digits").css("min-width",d*a.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px"):a.find(".tve_t_day .t-digits").css("min-width",""),this},b},tve_thrive_posts_list:function(){var a=this,b=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"posts_list");return{fetch:function(){var c=b.get();c.nowrap=1,c.action="tve_ajax_load",c.ajax_load="sc_thrive_posts_list",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,c,function(b){a.html(b),TVE.main.overlay("close")})},set:function(a,c){b.update(a,c),this.fetch()},config:function(){return b.get()}}},tve_thrive_custom_phone:function(){var a=this,b=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"custom_phone");return{fetch:function(){var c=b.get();c.nowrap=1,c.action="tve_ajax_load",c.ajax_load="sc_thrive_custom_phone",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,c,function(b){a.html(b),TVE.main.overlay("close")})},set:function(a,c){b.update(a,c),this.fetch()},config:function(){return b.get()}}},tve_thrive_custom_menus:function(){var a=this,b=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"custom_menu");return{fetch:function(){var c=b.get();c.nowrap=1,c.action="tve_ajax_load",c.ajax_load="sc_thrive_custom_menu",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,c,function(b){a.html(b),TVE.main.overlay("close")})},set:function(a,c){b.update(a,c),this.fetch()},config:function(){return b.get()}}},tve_tw_qs:function(){var a=this;return{config:function(a,b){if(void 0===a||0===a.length)throw"Invalid option";return void 0===b?this.get(a):this.set(a,b)},set:function(b,c){return a.attr("data-"+b,c),this},get:function(b){return a.attr("data-"+b)}}},tve_contents_table:function(){var a=this;return{options:new Array,$container:null,init:function(){return this.config("columns",a.attr("data-columns")),this.initHeaders(),this.$container=a.find(".tve_contents_table"),this},set:function(a,b){return this.options[a]=b,this.saveConfig(a,b),this},get:function(a){return this.options[a]},saveConfig:function(b,c){a.attr("data-"+b,c)},updateHeaders:function(a){for(var b=0;b<this.options.headers.length;b++)if(this.options.headers[b]===a)return this.options.headers.splice(b,1),this.config("headers",this.options.headers.sort()),this;return this.options.headers.push(a),this.config("headers",this.options.headers.sort()),this},initHeaders:function(){return void 0===a.data("headers")?this.config("headers",["h1","h2","h3"]):0===a.attr("data-headers").length?this.config("headers",[]):this.config("headers",a.attr("data-headers").split(",")),this},config:function(a,b){if(void 0===a||0===a.length)throw"Invalid option";return void 0===b?this.get(a):this.set(a,b)},update:function(){var b=this;this.$container.find("a").remove(),this.options.headers.length&&(a.find(".tve_ct_content").html(""),jQuery("#tve_editor, #tve_editor .tve_editor_main_content").find(this.config("headers").join(",")).each(function(){var c=jQuery(this),d=c.attr("id")?c.attr("id"):b.generateNewID(),e=jQuery('<div class="'+b.getCssClass(c)+'" ><a href="#'+d+'">'+c.text()+"</a></div>");c.is(":visible")&&a.find(".tve_ct_content").append(e),c.attr("id",d)}),a.find(".tve_ct_title").text(this.config("title")),this.splitInColumns())},generateNewID:function(){for(var a=1,b="tab-con-"+a;jQuery("#"+b).length>0;)b="tab-con-"+ ++a;return b},getCssClass:function(a){return"tve_ct_level"+this.config("headers").indexOf(a[0].nodeName.toLowerCase())},splitInColumns:function(){a.find(".tve_ct_content").children(".leftCol, .rightCol").remove();for(var b=a.find(".tve_ct_content .tve_ct_level0").length,c=0,d=new Array,e=0;e<this.config("columns");e++){var f=jQuery('<div class="ct_column sep"></div>');d.push(f)}if(d.push(d.pop().removeClass("sep")),a.find(".tve_ct_content .ct_column").remove(),!(b<=1)){var g=0;a.find(".tve_ct_content").children(".tve_ct_level0, .tve_ct_level1, .tve_ct_level2").each(function(a){var e=jQuery(this);e.is(".tve_ct_level0")&&(g=Math.floor(c*d.length/b)),d[g].append(function(){return e}),e.is(".tve_ct_level0")&&c++}),a.find(".tve_ct_content").html("");for(var f,e=0;f=d[e++];)f.css("width",100/d.length+"%"),a.find(".tve_ct_content").append(f);var h=0;a.find(".ct_column").each(function(){var a=jQuery(this);a.height()>h&&(h=a.height())}),a.find(".ct_column").css("min-height",h+"px")}}}.init()},tve_responsive_video:function(){var a=this;return{fetch:function(){var b=this.config("url");if(b){if("popover"==this.config("embed_type")&&"wistia"==this.config("type")||(a.find(".tve_wistia_container").length&&(a.find(".tve_wistia_container").remove(),a.find(".tve_responsive_video_container").removeClass("tve_with_wistia_popover"),a.find(".wistia_responsive_padding").remove()),a.css({width:"",height:""})),"self"===this.config("type")){a.find("iframe").remove(),a.find(".tve-video").remove(),a.find(".tve_responsive_video_container").append('<video style="background:#000000;" class="tve-video" src="" controls="controls" preload="auto"><source src="" ></source><a href=""></a></video>');var c=this.config("embeded-url").split(".").pop();a.find(".tve-video source").attr({src:this.config("embeded-url"),type:"video/"+c}),a.find(".tve-video").attr({src:this.config("embeded-url"),type:"video/"+c}),"0"===this.config("controls")&&a.find(".tve-video").removeAttr("controls"),a.find("a").attr("href",this.config("embeded-url")).text(this.config("embeded-url"))}else if("popover"==this.config("embed_type")&&"wistia"==this.config("type")){0===a.find(".tve_wistia_container").length&&a.find(".tve_responsive_video_container").append('<div class="wistia_responsive_padding"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><div class="tve_wistia_container"><div class="tve_wistia_loader"></div></div></div></div>'),0!=a.find("iframe").length&&a.find("iframe").remove();var d=(this.config("overlay"),void 0!==this.config("video-width")&&"0"!=this.config("video-width")?this.config("video-width")+"px":"100%"),e=void 0!==this.config("video-height")&&"0"!=this.config("video-height")?this.config("video-height")+"px":"572px";a.find(".tve_wistia_container").attr("data-start-time",this.config("start-time")),a.find(".tve_wistia_container").attr("data-type",this.config("type")),a.find(".tve_wistia_container").attr("data-video-id",b.split("/").pop()),a.find(".tve_responsive_video_container").addClass("tve_with_wistia_popover"),a.css({height:e,width:d});var f=this.queryString(this.config("type"));f=f.replace("?","");var g="wistia_async_"+b.split("/").pop();a.find(".tve_wistia_container").removeAttr("class").addClass("tve_wistia_container tve_wistia_popover wistia_embed "+g+" "+f),a.find(".tve_green_button").remove(),a.removeClass("responsive_video_placeholder"),a.find(".no-video").remove()}else{a.find("iframe").css("display","block");var h=this.config("embeded-url")+this.queryString(this.config("type"));a.find(".tve-video").remove(),0===a.find("iframe").length&&a.find(".tve_responsive_video_container").append('<iframe src="" frameborder="0" allowfullscreen></iframe>'),a.find("iframe").attr("src",h).attr("data-src",h)}a.find(".tve_responsive_video_container").css("display","block"),a.find(".tve_green_button").remove(),a.removeClass("responsive_video_placeholder"),a.find(".no-video").remove()}else a.find("iframe").attr("src","").css("display","none"),a.find("div.tve_wistia_container").css("display","none"),a.find(".video_overlay").html('<h3 class="no-video" style="text-align: center">Insert a video URL</h3>');return this},set:function(b,c){return"url"===c?(a.attr("data-url",b),a.attr("data-embeded-url",this.embededUrl(b)),this.fetch()):"overlay"===c?(a.attr("data-overlay",b),this.fetch()):(a.attr("data-"+c,b),this.fetch())},rgb2hex:function(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):a},embededUrl:function(a){var b="";switch(this.config("type")){case"youtube":if(-1!==a.indexOf("embed"))return a;b="https://www.youtube.com/embed/";var c=a.split("?").pop().split("&").shift().split("=")[1];-1!==a.indexOf("youtu.be")&&(c=a.split("/").pop(),c=-1!==c.indexOf("?")?c.split("?").shift():c),b+=c;break;case"vimeo":b="https://player.vimeo.com/video/"+a.split("/").pop();break;case"wistia":b="//fast.wistia.net/embed/iframe/"+a.split("/").pop();break;case"self":var d=a.split(".").pop(),e=!1;jQuery.each(rv_accepted_extensions.split(" "),function(a,b){d===b&&(e=!0)}),b=!0===e?a:""}return b},queryString:function(a){var b,c="?";switch(a){case"youtube":b=new Array("rel="+(void 0===this.config("rel")?"1":this.config("rel")),"modestbranding="+(void 0===this.config("modestbranding")?"0":this.config("modestbranding")),"controls="+(void 0===this.config("controls")?"1":this.config("controls")),"showinfo="+(void 0===this.config("showinfo")?"1":this.config("showinfo")),"fs="+(void 0===this.config("fs")?"1":this.config("fs")),"wmode=transparent"),void 0!==this.config("start-time")&&"0"!=this.config("start-time")&&b.push("start="+this.config("start-time")),c+=b.join("&");break;case"wistia":b=new Array("chromeless="+(void 0===this.config("controls")?"false":"0"===this.config("controls")),"controlsVisibleOnLoad="+(void 0===this.config("onload-controls")?"true":"1"===this.config("onload-controls")),"playbar="+(void 0===this.config("play-bar")?"true":"1"===this.config("play-bar")),"fullscreenButton="+(void 0===this.config("fs")?"true":"1"===this.config("fs")),"playerColor="+(void 0===this.config("video-color")?"ff0000":this.rgb2hex(this.config("video-color"))),"videoFoam=true");var d=this.config("embed_type");void 0!==this.config("start-time")&&"0"!=this.config("start-time")&&"popover"!=d&&b.push("time="+this.config("start-time")),"popover"==d?(b.push("popover=true popoverAnimateThumbnail=true"),c+=b.join(" ")):c+=b.join("&");break;case"vimeo":b=new Array("badge="+(void 0===this.config("modestbranding")?"1":this.config("modestbranding")),"title="+(void 0===this.config("showinfo")?"0":this.config("showinfo")),"color="+(void 0===this.config("video-color")?"ff0000":this.rgb2hex(this.config("video-color")))),c+=b.join("&");break;default:c=""}return c},config:function(b){return a.attr("data-"+b)}}},tve_tabs:function(){var a=this,b=a.find("> .tve_scT"),c=function(a){return b.find("> .tve_scTC").eq(a.index())};return{isVertical:function(){return b.hasClass("tve_vtabs")},show:function(a){b.find("> ul li").eq(a).click()},addTab:function(){var a=b.find("> ul li").length+1,c=b.find("> ul li:not(.tve_tS)").first().attr("data-tve-custom-colour"),d='<li data-tve-custom-colour="'+c+'"><span>New Tab</span></li>',e=b.find("> div").first().attr("data-tve-custom-colour"),f=jQuery('<div class="tve_scTC" style="display: none;" data-tve-custom-colour="'+e+'"><div class="thrv_wrapper thrv_text_element"><p>Tab '+a+"</p></div></div>");b.find("> ul").append(d),b.append(f),TVE.drag.bind_draggable(f),this.isVertical()&&this.resize()},removeTab:function(d){if(c(d).remove(),d.remove(),0!==a.find("li").length){this.setDefaultSelected(),this.isVertical()&&this.resize(),this.populateTabList();var e=parseInt(this.getDefaultSelected());e>=b.find("> ul li").length&&this.setDefaultSelected(e-1)}},resize:function(){b.find(".tve_scTC").css("min-height",b.find("> ul").outerHeight()+40+"px")},populateTabList:function(){var a=jQuery("ul#tve_tabs_selected").empty();return b.find("> ul li").each(function(){a.append(jQuery('<li class="tve_btn_text tve_click tve_selected_tab" id="default_tab">'+jQuery(this).text()+"</li>"))}),this},getDefaultSelected:function(){var a=b.attr("data-selected");return a||(a=0,this.setDefaultSelected(0)),a},setDefaultSelected:function(a){void 0===a&&(a=this.getDefaultSelected()),b.attr("data-selected",a),this.show(a)}}},tve_rating:function(){var a=this,b=a.children(".tve_rating_stars"),c=b.children("span");return{set:function(a,c){b.attr("data-"+a,c),this.draw()},get:function(a){return b.attr("data-"+a)},draw:function(){var a=parseFloat(this.get("value")),d=parseInt(this.get("max"));isNaN(a)&&(a=0),isNaN(d)&&(d=5),a>d&&(a=d,this.set("value",a)),b.css("width",24*d+"px"),c.css("width",24*a+"px"),b.attr("title",a+" / "+d)}}},tve_image:function(){return{e:null,i:null,init:function(a){return a.hasClass("tve_image_caption")&&(a=a.find("img")),this.e=a,this.i=a,this.i.parents(".thrv_feature_grid .tve_gri").length,this.ensureCompliant()},ensureCompliant:function(){return this},hasStyle:function(a){if("__none__"!==a)return this.e.hasClass(a);var b=this,c=!1;return jQuery.each(img_styles.split(" "),function(a,d){b.e.hasClass(d)&&(c=!0)}),!c},align:function(a){this.e.removeClass("alignleft aligncenter alignright").addClass(a.replace("alignno","")),"aligncenter"==a&&this.e.css({"margin-left":"","margin-right":""});var b=this.e.parent();b.is(".tve_gri")&&b.removeClass("alignleft aligncenter alignright").addClass(a.replace("alignno",""))},style:function(a){this.e.removeClass(img_styles).addClass(a),this.checkCaption()},attach:function(a){console.log(a),a.alt&&this.i.attr("alt",a.alt),a.caption?(0===this.e.find(".wp-caption-text").length&&this.e.append('<p class="wp-caption-text"></p>'),this.e.find(".wp-caption-text").html(a.caption)):this.e.find(".wp-caption-text").remove(),this.i.css("width")||(this.i.css("width",a.width+"px"),this.e.css("width",a.width+"px")),this.i.attr("src",a.url).removeClass("tve_active_image"),this.checkCaption()},checkCaption:function(){this.hasCaption()&&this.hasStyle("__none__")?this.e.addClass("wp-caption"):this.e.removeClass("wp-caption")},hasCaption:function(){return this.e.find(".wp-caption-text").length&&this.e.find(".wp-caption-text").text().length}}.init(this)},tve_lightbox:function(){var a=this.is(".tve_p_lb_content")?this:this.parents(".tve_p_lb_content").first();return{setBgPattern:function(b){this.clearBgImage().clearBgColor().set_option("l_cpat",b),a.css({"background-image":"url('"+b+"')","background-repeat":"repeat"})},setBgImage:function(b){this.clearBgImage().set_option("l_cimg",b.url),a.css({"background-image":"url('"+b.url+"')","background-repeat":"","background-size":"cover"})},clearBgImage:function(){return this.set_option("l_cimg",""),a.css({"background-image":"","background-repeat":"","background-size":""}),this},clearBgPattern:function(){return this.set_option("l_ccls","").set_option("l_cpat",""),a.css({"background-image":"","background-repeat":"","background-size":""}),this},clearBgColor:function(){return this.set_option("l_ccls",""),a.tve_color_selector()&&e(a.tve_color_selector(),"background-color"),a.css("background-color",""),this},set_option:function(a,b){return TVE.CONST.tve_globals[a]=b,this}}},tve_lp:function(){var a=this;return this.hasClass("tve_wrap_all")&&(a=this.parents("body")),{setBgPattern:function(b){this.clearBgImage().clearBgColor().set_option("lp_bgp",b),a.css({"background-image":"url('"+b+"')","background-repeat":"repeat","background-size":"auto",height:""})},setBgImage:function(b){this.clearBgPattern(),this.set_option("lp_bgi",b.url),a.css({"background-image":"url('"+b.url+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"}).attr({"data-width":b.width,"data-height":b.height}),a.hasClass("tve_fh")&&this.bgCover(!0)},clearBgImage:function(){return this.set_option("lp_bgi","none"),a.css({"background-image":"none","background-repeat":"",height:""}).removeClass("tve-lp-fixed"),this},clearBgPattern:function(){return this.set_option("lp_bgp",""),this.set_option("lp_bgi","none"),a.css({"background-image":"none","background-repeat":""}),this},clearBgColor:function(){return this.set_option("lp_bg","#ffffff"),a.tve_color_selector()&&e(a.tve_color_selector(),"background-color"),a.css("background-color","#ffffff"),this},bgAttachment:function(b){a.css("background-attachment",b?"fixed":"scroll"),this.set_option("lp_bga",b?"fixed":"scroll"),b?a.addClass("tve-lp-fixed"):a.removeClass("tve-lp-fixed")},bgCover:function(b){if(a.css("height","").removeClass("tve_fh"),a.hasClass("tve_lp_content")&&b){var c=parseInt(a.attr("data-width")),d=parseInt(a.attr("data-height")),e=a.outerWidth(),f="";if(isNaN(c)||isNaN(d))return;if(e<c){var g=c/d;f=parseInt(e/g)}else f=d;a.css({height:f+"px"}).addClass("tve_fh")}},set_option:function(b,c){return a.is("body")&&(TVE.CONST.tve_globals[b]=c),this}}},tve_post_grid:function(a){var b=jQuery.extend({},a),c=this;if(c.find(".thrive-shortcode-config").length)var e=TVE.Editor_Page.thriveShrtcodeConfig(c.find(".thrive-shortcode-config"),"post_grid");return{sortable:function(){return c.find(".tve_sortable_layout").sortable(),this},autocomplete:function(){function a(a){return a.split(/,\s*/)}function b(b){return a(b).pop()}var d={security:tve_path_params.tve_ajax_nonce};return c.find(".tve_post_grid_autocomplete").autocomplete({source:function(a,c){d.term=b(a.term),jQuery.ajax({url:tve_path_params.ajax_url,dataType:"json",type:"post",data:d,success:function(a){c(a)},error:function(){}})},focus:function(){return!1},search:function(a,b){d.action=jQuery(this).data("action")},select:function(b,c){var d=a(this.value);return d.pop(),d.push(c.item.value),d.push(""),this.value=d.join(","),!1}}),this},display:function(){var a=b;return e?a.currentConfig=this.getConfig():a.wrap=1,a.security=tve_path_params.tve_ajax_nonce,a.action="tve_do_post_grid_shortcode",a.exclude=tve_path_params.post_id,TVE.main.overlay(),jQuery.ajax({url:tve_path_params.ajax_url,type:"post",data:a,success:function(a){if(c.removeClass("image_placeholder"),TVE.main.overlay("close"),e)var b=c.empty().append(a);else var b=TVE.drag.insert(a,c,!1,!0);TVE.Editor_Page.blur({forceExit:1}),d(),b.tve_post_grid().after_render().masonry()}}),this},after_render:function(){return c.find(".tve_post_grid_masonry").length?(this.masonry(),this):(c.find(".tve_pg_row").css("height",""),c.find(".tve_pg_row").each(function(){var a=0,b=jQuery(this);b.find(".tve_post").each(function(){var b=jQuery(this),c=parseInt(b.outerHeight());c>a&&(a=c),b.css("height","100%")}),b.css("height",a-1+"px")}),this)},masonry:function(){return c.find(".tve_post_grid_masonry").length&&c.find(".tve_post_grid_masonry").masonry(),this},config:function(){return e},getConfig:function(){return e.get()}}},tve_widget_menu:function(){var a=this.is(".tve_w_menu")?this.parents(".thrv_widget_menu"):this,b=a.find(".tve_w_menu"),c=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"widget_menu");return c.update(a.find(".tve_menu_title").text(),"title"),a.data("colorpicker-bound")||(a.on("editor.oncolorpickerchange",function(b,d,e){c=TVE.Editor_Page.thriveShrtcodeConfig(a.find(".thrive-shortcode-config"),"widget_menu"),c.update(d,e.save_key)}),a.data("colorpicker-bound",!0)),{fetch:function(){var d=jQuery("#widget_menu_menu").find(".menu-edit-link").attr("href").replace(/&menu=(\d*)/,"&menu="+c.get().menu_id);jQuery("#widget_menu_menu").find(".menu-edit-link").attr("href",d);var e=c.get();e.nowrap=1,e.action="tve_ajax_load",e.ajax_load="sc_widget_menu",TVE.main.overlay(),jQuery.post(tve_path_params.ajax_url,e,function(c){var d=a.find(".tve_menu_title").clone();a.html(c),a.prepend(d),b=a.find(".tve_w_menu"),TVE.main.overlay("close")})},color_class:function(a){for(var c,d=0;c=tve_path_params.shortcode_colours[d++];)b.removeClass("tve_"+c);b.addClass(a),this.set(a,"color")},font:function(a){b.add(b.find("li")).removeClass(custom_font_classes).removeClass(extra_font_classes).addClass(a),b.find("li > a").css("font-family",""),this.set(a,"font_class").set("","font_family")},direction:function(c){b.removeClass("tve_horizontal tve_vertical").addClass(c),a.attr("data-tve-style",c),h.colors.refresh(!0);var d=b.find("li li a"),e=b.find("> li > a");"tve_vertical"===c?(b.find("ul").css({display:"",opacity:""}),e.tve_color_selector()&&d.tve_color_selector(e.tve_color_selector())):"tve_horizontal"===c&&d.tve_color_selector(""),this.set(c,"dir")},clear_font:function(){b.add(b.find("li")).removeClass(custom_font_classes).removeClass(extra_font_classes),b.find("li > a").css("font-family",""),this.set("","font_class").set("","font_family")},font_size:function(a,c){b.css("font-size",a+"px").removeClass("rft rfs").addClass(c),this.set(a+"px","font_size"),this.set(c,"custom_class")},title:function(b){b=jQuery.trim(b),a.find(".tve_menu_title").text(b),this.set(b,"title")},primary:function(a){this.set(a,"primary",!0)},set:function(a,b,d){return c.update(a,b),void 0!==d&&this.fetch(),this},config:function(){return c.get()}}}})},util:{"content.js":function(a,b,c){!function(a){b.exports={TCB_CLS_PAT:["thrv_","tve-","tve_","tcb_","tcb-","thrv-","img_style_","mce-","fr-"],get_clean_content:function(b,c){
void 0===b&&(b={}),c=c||TVE.Editor_Page.editor;var d=a("#pre-save-filter");d.length||(d=a('<div style="display:none" id="pre-save-filter"></div>').appendTo("body")),d.empty();var e=c.children(".tve_content_save").length?c.children(".tve_content_save"):c;d.html(e.html()),b.keep_wp_shortcodes||d.find(".tve_shortcode_rendered").remove(),d.find(".ui-resizable-handle, .ui-resize-left, .ui-resize-right, .thrive-shortcode-html,grammarly-btn,.tve_custom_html_placeholder,.tve_dropzone,.rangySelectionBoundary, .tve_shortcode_overlay,.tve_shortcode_rendered script, .tcb-remove-on-save, .tve_post_grid_wrapper,.tve_widget_container,.gr-textarea-btn_status,.gr-textarea-btn, .tve-remove-auxiliary-content").remove().end().find(".canvas-mode, .tve-element-overlay, .edit_mode, .tve_merge_cells, .tve_merge_selected, .tve_active_hyperlink, .active_highlight, .active_delete, .active_duplicate").removeClass("edit_mode tve_merge_cells tve_merge_selected, tve_active_hyperlink active_highlight active_delete active_duplicatecanvas-mode tve-element-overlay").end().find(".tve_faqC").hide().end().find(".tve_oFaq").removeClass("tve_oFaq").end().find(".ui-resizable,.init_done,.ui-sortable,.ui-sortable-handle,.tve-draggable,.tve-droppable").removeClass("ui-resizable init_done ui-sortable ui-sortable-handle tve-draggable tve_grabbed tve-droppable").end().find("[contenteditable]").removeAttr("contenteditable").end().find("[draggable]").removeAttr("draggable").end().find("[data-gramm]").removeAttr("data-gramm data-gramm_id data-gramm_editor").filter(":empty").remove().end().end().find(".tve-state-hover,.tve-state-active").removeClass("tve-state-hover").end().find("p").each(function(){void 0!==this.className&&0===this.className.toString().length&&this.removeAttribute("class")}),d.find(".tve-froala").each(function(){var b=a(this),c=b.find(".fr-element").last();c.length&&b.html(c.html()).removeClass(function(a,b){return(b.match(/(^|\s)(fr-|tve-froal)\S+/g)||[]).join(" ")})}),d.find(".tve_more_tag").replaceWith('<!--tvemorestart--><p class="tve_more_tag"><span class="tve_no_edit">More...</span></p><!--tvemoreend-->');var f=d.html();return d.html(""),f.split("\n").map(a.trim).filter(function(a){return""!==a}).join("\n")},get_stylesheet_rules:function(){function a(a){for(var b,c=0;b=h[c++];)if(a.indexOf(b)>-1)return!0;return!1}function b(b,d){d=d||"";var e="";if(c=b.selectorText.replace(/(:hover|:active)/g,""),-1!==g.indexOf(d+b.selectorText))return"";if(a(c)||jQuery(c).length){if(!jQuery.trim(b.cssText.replace(b.selectorText,"").replace(/\{(\s*)\}/g,"")))return"";e+=b.cssText,g.push(d+b.selectorText)}return e}for(var c,d,e=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,f="",g=[],h=["tve_selected_typist"],i="",j=[],k=0;d=e[k++];)if(d.type!==CSSRule.IMPORT_RULE)if(d.type!==CSSRule.MEDIA_RULE)f+=b(d);else{i="";for(var l,m=0;l=d.cssRules[m++];)i+=b(l,d.media.item(0));i&&(f+="@media "+d.media.item(0)+"{"+i+"}")}else{var n=TVE.FontManager.read_font_name(d.cssText);TVE.FontManager.is_font_used(n)&&void 0===j[n]&&(j[n]=1,f+=d.cssText)}return f},prepare_content_template:function(a){return a.add(a.find(".ui-resizable")).removeClass("ui-resizable"),a.find(".ui-resizable-handle").remove(),TVE.froala.disable(a),TVE.froala.disable(a.find(TVE.TEXT_ALL)),jQuery("<div></div>").append(a.removeClass("edit_mode mce-edit-focus active_delete active_duplicate")).html()},parse_element_classes:function(b){var c=new RegExp(this.TCB_CLS_PAT.join("([^ ]*)|")+"([^ ]*)|"+TVE.thrv_custom_classes.join("|"),"g");return b?a.trim(b.replace(c,"").replace("/S+/g"," ")):""},get_shotcode_tinymce_content:function(){return"undefined"!=typeof tinymce&&tinymce&&tinymce.activeEditor&&!tinymce.activeEditor.isHidden()?tinymce.activeEditor.getContent():jQuery("#tve_tinymce_shortcode").val()},set_shotcode_tinymce_content:function(a){"undefined"!=typeof tinymce&&tinymce&&tinymce.activeEditor&&!tinymce.activeEditor.isHidden()?tinymce.activeEditor.setContent(a):jQuery("#tve_tinymce_shortcode").val(a)},convert_script_tags:function(a){a=a.replace("<\\/script","<\\\\/script");var b=jQuery('<div class="tve_escaped_js">'+a+"</div>");return 0===b.find("script").length&&0===b.find("noscript")?b.html():(b.find("script").each(function(){var a=jQuery(this),b="[tcb-script",c=jQuery('<code class="tve_js_placeholder"></code>');jQuery.each(this.attributes,function(){b+=" "+this.name+'="'+this.value+'"'}),b+="]"+a.text()+"[/tcb-script]",c.text(b),a.replaceWith(c)}),b.find("noscript").each(function(){var a=jQuery(this),b="[tcb-noscript",c=jQuery('<code class="tve_js_placeholder tve_noscript"></code>');jQuery.each(this.attributes,function(){b+=" "+this.name+'="'+this.value+'"'}),b+="]"+a.text()+"[/tcb-noscript]",c.html(b),a.replaceWith(c)}),b.html())},revert_script_tags:function(a){if(!jQuery.trim(a))return"";var b=jQuery('<div class="tve_escaped_js">'+a+"</div>");return b.find(".tve_custom_html_placeholder,.tve_click").remove(),b.find(".tve_shortcode_overlay").remove(),0===b.find("code.tve_js_placeholder").length?jQuery.trim(b.html()):(b.find("code.tve_js_placeholder").each(function(){var a,b=jQuery(this),c=new RegExp("^\\[tcb-script([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-script\\]$","g");a=b[b.hasClass("tve_noscript")?"html":"text"]().replace(c,"<script$1>$2</script>");var d=new RegExp("^\\[tcb-noscript([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-noscript\\]$","g");a=a.replace(d,"<noscript$1>$2</noscript>"),b.hasClass("tve_noscript")&&(a=jQuery("<textarea>").html(a).text());var e=jQuery(a);e.removeAttr("class className"),b.replaceWith(e)}),jQuery.trim(b.html()))},prepare_save_data:function(b,c){var d=this.get_clean_content({},this.editor),e=this.get_stylesheet_rules(),f={tve_content:d,post_id:TVE.CONST.post_id,update:b,inline_rules:e,custom_colours:TVE.CONST.colors.favorites||[],tve_custom_css:TVE.Editor_Page.get_custom_css(),tve_landing_page:TVE.CONST.landing_page?TVE.CONST.landing_page:"",custom_font_classes:[],tve_globals:{},tve_global_scripts:TVE.CONST.tve_global_scripts?TVE.CONST.tve_global_scripts:{},has_icons:0,page_events:TVE.CONST.page_events};f=TVE.apply_filters("tcb_save_post_data_before",f),TVE.CONST.custom_post_data&&a.each(TVE.CONST.custom_post_data,function(a,b){f[a]=b}),TVE.CONST.tve_globals.js_sdk=[],TVE.Editor_Page.editor.find(".thrv_social").each(function(){TVE.CONST.tve_globals.js_sdk=TVE.CONST.tve_globals.js_sdk.concat(a(this).tve_social().getRequiredSDKs())}),TVE.CONST.social_fb_app_id&&(f.social_fb_app_id=TVE.CONST.social_fb_app_id),TVE.Editor_Page.editor.find(".tve-fb-comments").length>0&&-1===TVE.CONST.tve_globals.js_sdk.indexOf("fb")&&TVE.CONST.tve_globals.js_sdk.push("fb"),a.each(TVE.CONST.tve_globals,function(a,b){a&&(f.tve_globals[a]=b)}),custom_font_classes&&a.each(custom_font_classes.split(" "),function(a,b){(TVE.Editor_Page.editor.find("."+b).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(b))&&f.custom_font_classes.push(b)}),f.tve_globals.extra_fonts&&a.each(f.tve_globals.extra_fonts,function(a,b){TVE.Editor_Page.editor.find("."+b.font_class).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(b.font_class)?b.ignore=0:b.ignore=1}),void 0!==c&&a.each(c,function(a,b){f[a]=b});var g=jQuery(".tve_sc_icon:not(.tve_sc_text)"),h=jQuery();if(f.tve_globals.used_icon_packs=[],g.length){var i=[];if(TVE.CONST.tve_globals.extra_icons)for(var j,k=0;j=TVE.CONST.tve_globals.extra_icons[k++];)if(j.icons&&j.icons.length){var l=g.filter("."+j.icons.join(",."));l.length&&f.tve_globals.used_icon_packs.push(j["font-family"]),h=h.add(l),l.each(function(){i.push(this.dataset.tveIcon)}),TVE.CONST.tve_globals.extra_icons[k-1].icons=i}f.has_icons=g.length!=h.length?1:0}var m=a(".tve-fb-comments:visible");if(m.length>0){var n=m.attr("data-fb-moderator-ids");void 0!==n&&""!=n&&(f.tve_globals.fb_comment_admins=JSON.stringify(n.split(";")))}return a(".tve_post_grid_masonry").length&&(f.tve_has_masonry=1),a(".tve_typefocus").length&&(f.tve_has_typefocus=1),(a(".tve_wistia_popover:visible").length||a(".tve_ea_thrive_wistia").length)&&(f.tve_has_wistia_popover=1),f=TVE.apply_filters("tcb_save_post_data_after",f)},process_saved_template:function(a,b,c){if(b.find(".edit_mode").removeClass("edit_mode"),b.find(".tve_sc_icon").length&&!jQuery("#thrive_icon_pack").length&&TVE.CONST.icon_pack_css&&jQuery('<link id="thrive_icon_pack" rel="stylesheet" type="text/css" href="'+TVE.CONST.icon_pack_css+'">').appendTo("head"),!jQuery.trim(a)&&!c)return b;var d=b.wrapAll("<div></div>").parent();if(a=jQuery.trim(a))for(var e=a.match(/[^{}]+(?=\})/g),f=a.match(/\[(.*?)\]([^\{]*)/g),g={},h=f?f.length:0,i=0;i<h;i++){var j=f[i].match(/\[data-tve-custom-colour=([^0-9]{1,1})(\d+)('|")\]/);if(j&&!(j.length<3)){var k=void 0!==g["code"+j[2]]?g["code"+j[2]]:function(a){var b=Math.floor(1e8*Math.random()+1);return a.attr("data-tve-custom-colour",b),b}(d.find('[data-tve-custom-colour="'+j[2]+'"]')),l=f[i].replace(j[2],k);TVE.compat.insert_css_rule(l,e[i],0),g["code"+j[2]]=k}}if(c){var m={};jQuery.each(c,function(a,b){var c=b.match(/[^{}]+(?=\})/g),d=b.match(/\[(.*?)\]([^\{]*)/g);if(!c||!d||c.length!==d.length)return!0;var e,f=TVE.CSS_Rule_Cache.media_rule(a);d=d.map(jQuery.trim),c=c.map(jQuery.trim);for(var g,h=0;g=d[h];h++)jQuery.trim(c[h])&&g.match(/tve-u-(.[^"]*)/)&&(e="tve-u-"+RegExp.$1,m[e]=m[e]||TVE.CSS_Rule_Cache.generate_id(),g=g.replace(new RegExp("("+e+")","g"),m[e]),f.insertRule(jQuery.trim(g)+"{"+c[h]+"}",f.cssRules.length))}),jQuery.each(m,function(a,b){d.find('[data-css="'+a+'"]').attr("data-css",b)})}if(b.hasClass("thrv_widget_menu")){var n=TVE.Editor_Page.thriveShrtcodeConfig(b.find(".thrive-shortcode-config"),"widget_menu"),o=n.get();jQuery.each(["ul_attr","top_link_attr","link_attr","trigger_attr"],function(a,b){o[b]&&g["code"+o[b]]&&(o[b]=g["code"+o[b]])}),n.save(o)}return TVE.compat.texts(d),d.html()}}}(jQuery)},"froala.js":function(a,b,c){!function(a){function d(b){return a.proxy(i[b],i)}TVE.TEXT_INLINE=".tve_fg h1, .tve_fg h3, .tve_ca h3, .tve_ca h1, .tve_grt h3, .tve_ca .tve_btnLink span, .tve_ts span, .tve_ct_title,.thrv_tw_quote p, .thrv_widget_menu .tve_menu_title, .wp-caption-text, .tve_btn_txt, .tve_btn_sec_txt, .tve_fg > .tve_line > h3, .thrv_bullets_shortcode > ul, .tve_scT > ul > li > span, .tve_faqB h4, .thrv-inline-text,.tve_submit_container button span, .thrv_tw_qs_button_text",TVE.TEXT_WITH_LINK=".tcb-styled-list-icon-text",TVE.TEXT_HEADINGS=".thrv_heading",TVE.TEXT_BLOCK=".thrv_text_element";var e=c("./selectors"),f={},g=TVE.TEXT_ALL=TVE.TEXT_INLINE+","+TVE.TEXT_HEADINGS+","+TVE.TEXT_BLOCK,h={default:["bold","italic","underline","strikeThrough","formatUL","formatOL","align","paragraphFormat","tcbLink"],inline:["bold","italic","underline","strikeThrough"],with_link:["bold","italic","underline","strikeThrough","tcbLink"],headings:["bold","italic","underline","strikeThrough","align","paragraphFormat"]},i={};i.focus=function(a,b){f.editor=b;var c=b.$oel.is(TVE.TEXT_BLOCK+",.thrv-inline-text,"+TVE.TEXT_HEADINGS)?b.$oel:b.$oel.closest(e.editable);setTimeout(function(){c.hasClass("edit_mode")||TVE.Editor_Page.focus_element(b.$oel)})},i.toolbar_show=function(a,b){TVE.main.update_components(["text","click-tweet"]),TVE.Editor_Page.$body.removeClass("tcb-distraction-free")},i.toolbar_hide=function(a,b){b.core.hasFocus()&&TVE.Editor_Page.$body.addClass("tcb-distraction-free")},i.blur=function(){TVE.Editor_Page.$body.removeClass("tcb-distraction-free")},i.undo_save_step=function(a,b){TVE.UndoManager.add({undo:function(){return b&&b.undo_index>1?(b.events.focus(),b.undo.run()):"_EXECUTE_NEXT_"},redo:function(){return b&&b.undo_index<b.undo_stack.length?(b.events.focus(),b.undo.redo()):"_EXECUTE_NEXT_"}})},i.keydown=function(a,b,c){13===c.keyCode&&(c.ctrlKey?TVE.main.trigger("ctrl-enter-pressed",c):TVE.main.trigger("enter-pressed",c))},f.init=function(){var b=1;TVE.Editor_Page.editor.off("mouseenter.froala-editor").on("mouseenter.froala-editor",g,function(c){var e=a(c.currentTarget);if(!TVE.state_manager.is_default())return void(e.data("froala.editor")&&e.froalaEditor("destroy"));if(e.data("froala.editor"))return e;var f=e.is(TVE.TEXT_INLINE),g=e.is(TVE.TEXT_HEADINGS),i=e.is(TVE.TEXT_WITH_LINK),j=i?h.with_link:f?h.inline:g?h.headings:h.default,k={enter:f||g?null:a.FroalaEditor.ENTER_P,multiLine:!f&&!g,keepFormatOnDelete:!0,editorClass:"tve-froala-"+b++,placeholderText:"",initOnClick:!0,toolbarInline:!0,typingTimer:800,htmlUntouched:!0,htmlAllowedEmptyTags:["i"],toolbarButtons:j,toolbarButtonsMD:j,toolbarButtonsSM:j,toolbarButtonsXS:j,toolbarVisibleWithoutSelection:!0,paragraphFormat:{N:"Paragraph",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",H5:"Heading 5",H6:"Heading 6"}};g&&(delete k.paragraphFormat.N,k.htmlAllowedEmptyTags=TVE.ELEM.headings.split(",").concat(["textarea","a","iframe","object","video","style","script",".fa"])),c.currentTarget.classList.add("tve-froala"),e.froalaEditor(k).on("froalaEditor.toolbar.show",d("toolbar_show")).on("froalaEditor.toolbar.hide",d("toolbar_hide")).on("froalaEditor.focus",d("focus")).on("froalaEditor.blur",d("blur")).on("froalaEditor.undo.saveStep",d("undo_save_step")).on("froalaEditor.keydown",d("keydown")),e.is(TVE.TEXT_BLOCK)||e.is(TVE.TEXT_HEADINGS)?e.off("click.tcb").on("click.tcb",function(a){a.stopPropagation()}):e.is(TVE.TEXT_INLINE)&&e.on("froalaEditor.initialized",function(a,b){b.events.on("drop",function(){return!1},!0)})})},f.disable=function(b){if(b.length>1)return void b.each(function(){var b=a(this);b.data("froala.editor")&&b.froalaEditor("destroy")});b.data("froala.editor")&&b.froalaEditor("destroy")},f.exec=function(){if(this.editor){for(var a=arguments[0].split("."),b=this.editor,c=b;a.length&&b[a[0]];)b=b[a.shift()],a.length>1&&(c=b);this.editor.events.focus(),b.apply(c,Array.prototype.slice.call(arguments,1))}},f.get_block_element=function(){return a(this.editor.selection.element()).closest("h1,h2,h3,h4,h5,h6,p,address,blockquote,li")},f.has_selection=function(){return!(!this.editor||!this.editor.selection.text())&&this.editor.selection.element()},f.get_css=function(a){var b=this.editor.selection.element();if("string"==typeof a)return b.style[a]||TVE.getComputedStyle(b,a,!0);var c={};return _.each(a,function(a){c[a]=b.style[a]||TVE.getComputedStyle(b,a)}),c},f.wrap_selection=function(b,c){return!!this.editor&&(c=c||{},c.class||(c.class=TVE.CSS_Rule_Cache.generate_id()),this.editor.format.apply(b||"span",c),a(this.editor.selection.element()))},b.exports=f}(jQuery)},"general.js":function(a,b,c){!function(a){function c(b,c,d){var e=d+'[data-css="'+b+'"]',f="";return c?(a.isArray(c)||(c=[c]),a.each(c,function(a){f+=(a?", ":"")+e+this}),f):e}var d={ELEM:{headings:"h1,h2,h3,h4,h5,h6",text:"p:not(.tve_more_tag,.thrv-inline-text p),h1,h2,h3,h4,h5,h6,ol,ul:not(.tcb-styled-list),blockquote,address,pre"},FILTER_TYPES:{grayscale:"grayscale",blur:"blur",brightness:"grayscale",contrast:"grayscale",invert:"grayscale",saturate:"grayscale",sepia:"grayscale"},STATE_DEFAULT:"default",STATE_EDIT:"edit",STATE_TINYMCE:"tinymce",STATE_DRAG:"drag",state:function(b){return void 0===b?this.CUR_STATE:(b!==this.CUR_STATE&&(TVE.main.trigger("exitstate_"+this.CUR_STATE,b),TVE.main.trigger("enterstate_"+b,this.CUR_STATE),a("body").toggleClass("tcb-edit-mode",b===this.STATE_EDIT),this.CUR_STATE=b),this)},allow_drag:function(){return!0},allow_tinymce:function(){return this.CUR_STATE===this.STATE_DEFAULT||this.CUR_STATE===this.STATE_TINYMCE},allow_edit:function(){return this.CUR_STATE===this.STATE_DEFAULT||this.CUR_STATE===this.STATE_EDIT||this.CUR_STATE===this.STATE_TINYMCE}};d.CUR_STATE=d.STATE_DEFAULT,a.fn.extend({head_css:function(b,d,e,f,g){function h(b,c){return e?b.find(a.isArray(e)?e[0]:e).css(c):b.css(c)}function i(a,b,c){if(c){var d={};return b.forEach(function(b){d[b]=i(a,b,!1)}),d}var e=a.getPropertyValue(b);return!e&&f&&(e=h(k,b)),e}void 0===e&&(e=""),void 0===g&&(g="");var j=a.isArray(b),k=this;if("string"==typeof b||j){if(!this.length)return"";var l,m,n=this[0],o=n.getAttribute("data-css"),p=!1;return o&&(d=d||TVE.main.media_query_tpl(),(l=TVE.CSS_Rule_Cache.media_rule(d))&&(m=l.style_by_selector(c(o,e,g)),p=i(m,b,j))),f&&!p&&(p=h(k,b)),p||(p=j?{}:""),p}return this.each(function(){var a=this.getAttribute("data-css");if(a){if(TVE.Editor_Page.editor.find('[data-css="'+a+'"]').length>1){var f=TVE.CSS_Rule_Cache.generate_id();this.setAttribute("data-css",f),TVE.head_css_copy(a,f),a=f}}else a=TVE.CSS_Rule_Cache.uniq_id(this);var h=c(a,e,g);TVE.head_css(h,b,d)})},collect_head_css:function(){var a={},b=TVE.main.all_media(),c="";this.add(this.find('[data-css^="tve-u-"]')).each(function(){var a=this.getAttribute("data-css");if(!a||0!==a.indexOf("tve-u-"))return!0;c+=(c?"|":"")+a}),c=new RegExp("("+c+")","g");for(var d,e=0;d=b[e++];){var f=TVE.CSS_Rule_Cache.media_rule(d);a[d]="";for(var g,h=0;g=f.cssRules[h++];)g.selectorText.match(c)&&(a[d]+=g.cssText)}return a},color_selector:function(a){return void 0!==a?a?this.attr("data-tve-custom-colour",a):this.removeAttr("data-tve-custom-colour"):this.attr("data-tve-custom-colour")},head_css_clone:function(){return this.each(function(){var a=this.getAttribute("data-css");if(!a||0!==a.indexOf("tve-u-"))return!0;TVE.head_css_copy('[data-css="'+a+'"]','[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this,!0)+'"]')})},head_css_copy:function(a){a.jquery&&(a=a[0]);var b=a.getAttribute("data-css");return b&&0===b.indexOf("tve-u-")?this.each(function(){TVE.head_css_copy('[data-css="'+b+'"]','[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this,!0)+'"]')}):this}}),d.head_css=function(a,b,c){if(c=c||TVE.main.media_query_tpl(),c="_ALL"===c?TVE.main.all_media():[c],!TVE.state_manager.is_default()){var d;if(TVE.state_manager.is_child()){var e='[data-css="'+TVE.CSS_Rule_Cache.uniq_id(TVE.state_manager.get_parent())+'"]';d="."+TVE.state_manager.css_class()+e+" "+a,a=e+TVE.state_manager.get_pseudo()+" "+a}else{var f=TVE.CSS_Rule_Cache.uniq_id(TVE.ActiveElement);d="."+TVE.state_manager.css_class()+'[data-css="'+f+'"] '+a.replace('[data-css="'+f+'"]',""),d="#tve_editor "+d.replace("#tve_editor",""),d=jQuery.trim(d.replace(/([ ]{2})/g," ")),a='[data-css="'+f+'"]'+TVE.state_manager.get_pseudo()+" "+a.replace('[data-css="'+f+'"]',""),a="#tve_editor "+a.replace("#tve_editor",""),a=jQuery.trim(a.replace(/([ ]{2})/g," "))}TVE.write_css(d,b,c)}TVE.add_undo_step(a,b,c),TVE.write_css(a,b,c)},d.add_undo_step=function(b,c,d){if(TVE.SKIP_CSS_STATE)TVE.UNDO_RULES||(TVE.UNDO_RULES=TVE.head_css_get(b,c,d,!0));else{TVE.UNDO_RULES&&a.each(c,function(a,b){if(void 0===TVE.UNDO_RULES[a])return delete TVE.UNDO_RULES,!1});var e=null;TVE.UndoManager.temp.get()&&(e=TVE.UndoManager.temp.get(),TVE.UndoManager.temp.delete()),null===e&&(e=TVE.UNDO_RULES||TVE.head_css_get(b,c,d,!0)),TVE.UndoManager.add({undo:function(){var a=TVE.SKIP_CSS_STATE;TVE.SKIP_CSS_STATE=!0,TVE.head_css(b,e,d),TVE.SKIP_CSS_STATE=a},redo:function(){var a=TVE.SKIP_CSS_STATE;TVE.SKIP_CSS_STATE=!0,TVE.head_css(b,c,d),TVE.SKIP_CSS_STATE=a}}),delete TVE.UNDO_RULES}},d.write_css=function(b,c,d,e){for(var f,g=0;f=d[g++];){var h=this.CSS_Rule_Cache.media_rule(f).style_by_selector(b);a.each(c,function(b,c){var d="";"string"==typeof c&&-1!==c.indexOf("important")&&(c=a.trim(c.replace(/!(\s*)important/,"")),d="important"),c||h.removeProperty(b),e&&(d="important"),h.setProperty(b,c,d)})}},d.head_css_get=function(b,c,d,e){var f={};if(e)var g=a(b);d=d||TVE.main.media_query_tpl(),d="_ALL"===d?TVE.main.all_media():[d];for(var h,i=0;h=d[i++];){var j=this.CSS_Rule_Cache.media_rule(h).style_by_selector(b);a.each(c,function(a,b){f[a]=j.getPropertyValue(a),""==f[a]&&e&&(f[a]=g.css(a)),"string"==typeof b&&-1!==b.indexOf("important")&&(f[a]+="!important")})}return f},d.head_css_copy=function(a,b){for(var c,d=TVE.main.all_media(),e=0;c=d[e++];)for(var f=this.CSS_Rule_Cache.media_rule(c),g=f.cssRules.length,h=0;h<g;h++)if(-1!==f.cssRules[h].cssText.indexOf(a)){var i=f.cssRules[h].cssText.replace(new RegExp(a,"i"),b);f.insertRule(i,f.cssRules.length)}},d.CSS_Rule_Cache={page_index:Math.floor(1e5*Math.random()),uniq_id:function(a,b){void 0===b&&(b=!1),a.jquery&&(a=a[0]);var c=a.getAttribute("data-css");return!b&&c||(c=this.generate_id(),a.setAttribute("data-css",c)),c},generate_id:function(){return"tve-u-"+((new Date).getTime()+this.page_index++).toString(16)},media_rule:function(a,b){var c=!1,d=0;if(!this[a]){for(var e,f=0;e=TVE.stylesheet.cssRules[f++];)if(e.type!==CSSRule.IMPORT_RULE){if(e.type===CSSRule.MEDIA_RULE&&e.media&&e.media.length&&function(a,b){for(var c=0;c<a.length;c++)if(a.item(c)==b)return!0;return!1}(e.media,a)){c=!0,this[a]=e;break}}else d++;c||(void 0===b&&(b=TVE.main.media_rule_index()),b+=d,b>TVE.stylesheet.cssRules.length&&(b=TVE.stylesheet.cssRules.length),TVE.stylesheet.insertRule("@media "+a+"{}",b),this[a]=TVE.stylesheet.cssRules[b]),this[a].style_by_selector=function(a){for(var b,c=0;b=this.cssRules[c++];)if(b.selectorText==a)return b.style;return this.insertRule(a+"{}",0),this.cssRules[0].style}}return this[a]},clear:function(){var b=this;a.each(TVE.main.responsive,function(a,c){delete b[c.media]})},init:function(){var b=this;a.each(TVE.main.responsive,function(a,c){b.media_rule(c.media,c.rule_index)});var c=this.media_rule(TVE.main.responsive.desktop.media);if(-1!==c.cssText.indexOf(":hover"))for(var d,e=c.cssRules.length,f=0;f<e;f++)if(d=c.cssRules[f],-1!==d.selectorText.indexOf(":hover")){var g=d.cssText.replace(/(\s+)([^:]+):hover/g,"$1.tve-state-hover$2");g===d.cssText&&(g=d.cssText.replace(/^([^:]+):hover/g,"$1.tve-state-hover")),c.insertRule(g,c.cssRules.length)}},insertImport:function(a){TVE.stylesheet.insertRule('@import url("'+a+'")',0)},getImports:function(){for(var a,b=[],c=0;a=TVE.stylesheet.cssRules[c++];)a.type===CSSRule.IMPORT_RULE&&(b[c]=a.cssText);return b},toText:function(a){for(var b,c="",d=0;b=TVE.stylesheet.cssRules[d++];)a?b.type===a&&(c+=b.cssText):c+=b.cssText;return c}},d.remove_overlay=function(){a(".tve-background-overlay").remove(),a(".tve-element-overlay").removeClass("tve-element-overlay"),TVE.inner.$body.removeClass("tcb-states")},d.body_overlay=function(){a(".tve-background-overlay").length||TVE.inner.$body.append('<div class="tve-background-overlay"></div>')},d.remove_body_overlay=function(){a(".tve-background-overlay").remove(),TVE.inner.$body.removeClass("tcb-states")},a.fn.extend({tve_overlay:function(){return TVE.body_overlay(),this.addClass("tve-element-overlay"),this}}),d.generateElementPreview=function(b,c,d,e){var f=a('<div id="tcb-template-clone-elem" style="position: absolute; left: -8000px; bottom: -5000px;"></div>').append(b.clone());TVE.inner.jQuery("body").prepend(f),f.find("img").removeAttr("srcset"),TVE.inner.window.domtoimage.toBlob(f.children().first()[0],{style:{padding:"0",margin:"0",outline:"none"}}).then(function(a){f.remove(),"function"==typeof d&&(e.append("img_data",a,e.get("template_name")+".png"),d(c,e))}).catch(function(a){console.error("oops, something went wrong!",a)})},b.exports=d}(jQuery)},"jquery-plugins.js":function(a,b,c){!function(a){a.fn.tve_social=function(){var a=this,b=this.hasClass("thrv_social_default")?"default":"custom";return{getRequiredSDKs:function(){if("custom"===b&&a.find('[data-s="fb_share"]').length)return["fb"];var c=[];return"default"===b&&a.find(".tve_s_item").each(function(){c.push(c[this.getAttribute("data-s")])}),c}}}}(jQuery)},"landing-fonts.js":function(a,b,c){!function(a){var c={$main_menu:null,initElement:function(a,b,c){tve_refresh(!1);var d=jQuery(".tve_wrap_all");d.addClass("tve_landing_fonts"),c.target=d,c.currentTarget=d,tve_editor_init(c,d),TVE.CONST.tve_globals.landing_fonts=TVE.CONST.tve_globals.landing_fonts||{}},addToGlobals:function(a,b,c){TVE.CONST.tve_globals.landing_fonts[a]=TVE.CONST.tve_globals.landing_fonts[a]||{},TVE.CONST.tve_globals.landing_fonts[a][b]=c},removeFromGlobals:function(a,b){TVE.CONST.tve_globals.landing_fonts[a]&&TVE.CONST.tve_globals.landing_fonts[a][b]&&delete TVE.CONST.tve_globals.landing_fonts[a][b]},getSelectorMenu:function(a){return this.$main_menu?this.$main_menu.find('ul.tve_menu[data-selector="'+a+'"]'):null},setFontFamily:function(a){tve_set_selected_dropdown(a);var b=a.data("selector"),c=a.data("font-family"),d=a.data("cls");this.addToGlobals(b,"font-family",c),TVE.CONST.tve_globals.landing_fonts[b].css_class=d,this.add_css_rule(b,"font-family: "+c)},clearFontFamily:function(a){var b=a.data("selector"),c=this.getSelectorMenu(b);this.remove_css_rule(b,"font-family"),this.removeFromGlobals(b,"font-family"),delete TVE.CONST.tve_globals.landing_fonts[b].css_class,tve_set_selected_dropdown(c.find(".tve_font_list li").first(),!0)},setFontSize:function(a){var b=a.data("selector"),c=tve_handle_integer_or_float(a.val()),d=this.getSelectorMenu(b).find('.tve_landing_fonts_size_unit[data-selector="'+b+'"]').text();this.add_css_rule(b,"font-size:"+c+d),this.addToGlobals(b,"font-size",c+d+"")},setFontSizeUnit:function(a){var b=a.data("selector"),c=tve_handle_integer_or_float(this.getSelectorMenu(b).find('input.tve_landing_fonts_size[data-selector="'+b+'"]').val()),d=-1!==a.text().indexOf("em")?"em":"px";tve_set_selected_dropdown(a),this.add_css_rule(b,"font-size:"+c+d),this.addToGlobals(b,"font-size",c+d+"")},setFontLineHeight:function(a){var b=a.data("selector"),c=tve_handle_integer_or_float(a.val()),d=this.getSelectorMenu(b).find('.tve_landing_fonts_line_height_unit[data-selector="'+b+'"]').text();this.add_css_rule(b,"line-height:"+c+d),this.addToGlobals(b,"line-height",c+d+"")},setFontLineHeightUnit:function(a){var b=a.data("selector"),c=tve_handle_integer_or_float(this.getSelectorMenu(b).find('input.tve_landing_fonts_line_height[data-selector="'+b+'"]').val()),d=-1!==a.text().indexOf("em")?"em":"px";tve_set_selected_dropdown(a),this.add_css_rule(b,"line-height:"+c+d),this.addToGlobals(b,"line-height",c+d+"")},remove_css_rule:function(a,b){tve_remove_css_rule("#tve_editor "+a,b),"p"===a&&tve_remove_css_rule("#tve_editor li",b)},add_css_rule:function(a,b){tve_add_css_rule("#tve_editor "+a,b,0),"p"===a&&tve_add_css_rule("#tve_editor li",b,0)},onMenuLoad:function(b,c){this.$main_menu=c,a.each(TVE.CONST.tve_globals.landing_fonts,function(a,b){var d=c.find('.tve_menu[data-selector="'+a+'"]');if(b["font-family"]){var e=d.find('.tve_font_list li[data-font-family="'+b["font-family"]+'"]');tve_set_selected_dropdown(e)}if(b["font-size"]){var f=tve_handle_integer_or_float(b["font-size"]),g=-1!==b["font-size"].indexOf("px")?"px":"em",h=d.find("li.tve_landing_fonts_size_"+g+"[data-selector='"+a+"']");d.find('input.tve_landing_fonts_size[data-selector="'+a+'"]').val(f),tve_set_selected_dropdown(h)}if(b["line-height"]){var i=tve_handle_integer_or_float(b["line-height"]),g=-1!==b["line-height"].indexOf("px")?"px":"em",h=d.find("li.tve_landing_fonts_line_height_"+g+"[data-selector='"+a+"']");d.find('input.tve_landing_fonts_line_height[data-selector="'+a+'"]').val(i),tve_set_selected_dropdown(h)}})},fontUsed:function(b){var c=!1;return a.each(TVE.CONST.tve_globals.landing_fonts,function(a,d){if(d.css_class===b)return void(c=!0)}),c},colorChanged:function(a){if(a.force_selector){var b=a.force_selector.replace("#tve_editor ","");this.add_css_rule(b,"color: "+a.color_value),this.addToGlobals(b,"color",a.color_value)}}};b.exports=c}(jQuery)},"selection-manager.js":function(a,b,c){!function(a){var d=null;b.exports={selectors:c("./selectors"),$clone:null,$delete:null,$el_icons:null,$el_name:null,$root:null,is_disabled:function(){var a=this.$root.hasClass("canvas-mode");return TVE.Editor_Page.is_disabled()&&!a},add_icons:function(){this.$el_icons||(this.$el_name=a("#tcb-el-name"),this.$drag_handle=a("#tve-drag-handle"),this.$el_icons=a("#tcb-el-icons"),this.$clone=this.$el_icons.find(".tcb-icon-copy"),this.$delete=this.$el_icons.find(".tcb-icon-trash"),a(document).on("mousedown.tcb",a.proxy(this.click_blur,this)).on("keyup.tcb",a.proxy(this.keyup_blur,this)).on("click",".tcb-icon-trash",a.proxy(this.click_delete,this)).on("click",".tcb-icon-copy",a.proxy(this.click_duplicate,this)).on("mouseleave.tcb","#tcb-el-icons,#tve-drag-handle",a.proxy(function(a){TVE.state()===TVE.STATE_EDIT||a.relatedTarget&&("tcb-el-icons"===a.relatedTarget.id||"tve-drag-handle"===a.relatedTarget.id)||this.hide_icons()},this)))},hide_icons:function(){return this.$el_icons.hide(),this.$el_name.hide(),this.$target=null,TVE.drag.hide_handle(),a(".active_delete,.active_duplicate,.active_highlight").removeClass("active_delete active_duplicate active_highlight"),this},show_icons:function(a){if(a.is(".canvas-mode"))return!1;var b,c,d=TVE._type(a),e=this.getElementCoords(a);return c={top:e.top-20+"px",left:e.left+e.width-39+"px"},b={top:e.top+"px",left:e.left+e.width/2-25+"px"},this.$el_name.html(TVE.Elements[d]?TVE.Elements[d].name:"Element"),this.$drag_handle.toggleClass("tcb-drag-small",e.width<150),e.width<150&&(b.left=e.left+e.width-59+"px"),this.$drag_handle.css(b).hide(),this.$el_icons.css(c).hide(),this.$el_name.hide(),TVE.drag.handle_mouseover(a),a.addClass("active_delete"),"desktop"===TVE.main.device&&(this.$target=a,this.$el_icons.show()),a.is(this.selectors.no_icons)?(a.addClass("active_highlight"),this.$el_icons.hide()):(this.$delete[a.is(this.selectors.no_delete)?"hide":"show"](),this.$clone[a.is(this.selectors.no_clone)?"hide":"show"]()),e.width>200&&this.$el_name.css({top:e.top-23+"px",left:e.left-1+"px"}).show(),a.is(this.selectors.get("no_icons"))?(a.addClass("active_highlight"),(a.hasClass("tve_p_lb_control")||a.hasClass("tve_p_lb_content"))&&a.closest(".tve_p_lb_content").addClass("active_highlight"),this.$el_icons.hide()):void 0},init:function(b){b[0]===TVE.Editor_Page.editor[0]&&(b=a(document.body)),this.add_icons(),this.$root=b;var c=this.selectors.get("editable");b.off("mouseenter.tcb mouseover.tcb mouseleave.tcb mousedown.tcb click.tcb ").on("mouseenter.tcb",this.selectors.get("mouseover"),a.proxy(this.mouseenter,this)).on("mouseleave.tcb",this.selectors.get("mouseover"),a.proxy(this.mouseleave,this)).on("mousedown.tcb",c,a.proxy(this.prevent_focus,this)).on("click.tcb",c,a.proxy(this.element_click,this))},blur:function(b){this.is_disabled()||(this.$root.is(".canvas-mode")?this.$root.removeClass("edit_mode").find(".edit_mode").removeClass("edit_mode"):a(".edit_mode").removeClass("edit_mode canvas-mode"),b=void 0===b||b,b&&this.hide_icons(),TVE.main.clear_focus(),TVE.Editor_Page.$body.removeClass("tcb-distraction-free"))},keyup_blur:function(a){27===a.which&&this.blur()},click_blur:function(b){var c=a(b.target);return!!(c.closest(".edit_mode").length||b.target.classList.contains("no-blur")||c.closest(".tve-froala").length||c.closest(".no-blur").length||TVE.prevent_blur||c.closest(this.selectors.get("editable")).not(".tve_lp").length||b.target.classList.contains("ui-resizable-handle"))||(this.blur(),!0)},element_click:function(b){if(TVE.Editor_Page.GLOBAL_PREVENT_FOCUS||window.getSelection&&window.getSelection().toString())return!1;var c=a(b.currentTarget);if(b.target.classList.contains("ui-resizable-handle"))return!1;if(!this.allow_state_selection(c))return!0;if(b.target.classList.contains("tcb-click"))return!0;var d=c.children(".tcb-inline-placeholder-action");return!(d.length&&d[0]!==b.target&&!a.contains(d[0],b.target))&&(b.preventDefault(),!(!c.is(this.selectors.get("not_editable"))||(c=c.parents(".thrv_wrapper").not(this.selectors.get("not_editable")).first(),c.length))||(TVE.Editor_Page.focus_element(c,b),!1))},prevent_focus:function(b){a(b.target).is("input, textarea, select")&&b.preventDefault()},mouseleave:function(b){return!this.is_disabled()&&(b.relatedTarget!==this.$clone[0]&&b.relatedTarget!==this.$el_name[0]&&b.relatedTarget!==this.$delete[0]&&b.relatedTarget!==window.$tve_drag_handle[0]&&(TVE.state()===TVE.STATE_EDIT?(d&&d.removeClass("active_highlight"),a(b.relatedTarget).trigger("mouseenter"),!1):(this.hide_icons(),a(b.relatedTarget).trigger("mouseenter"),!1)))},mouseenter:function(b){if(this.is_disabled())return!1;var c=a(b.currentTarget)
;return!this.allow_state_selection(c)||(!!c.is(this.selectors.get("no_highlight"))||(!!c.is(this.selectors.no_highlight)||!b.target.classList.contains("ui-resizable-handle")&&(TVE.state()===TVE.STATE_EDIT?(d&&d.removeClass("active_highlight"),c.addClass("active_highlight"),d=c,!1):(this.hide_icons(),this.show_icons(c),void b.stopPropagation()))))},click_delete:function(a){if(!this.$target)return!1;TVE.Editor_Page.editor.find(".active_delete, .active_highlight, .active_duplicate, .edit_mode").removeClass("edit_mode active_highlight active_delete active_duplicate"),TVE.Editor_Page.before_action().remove_element(this.$target).after_action(),this.hide_icons()},click_duplicate:function(a){if(!this.$target)return!1;TVE.Editor_Page.before_action().duplicate_element(this.$target).after_action()},getElementCoords:function(a){var b=a.offset();return b.width=a.outerWidth(),b.top<20&&(b.top=20),b},reposition_icons:function(a){var b,c,d=this.getElementCoords(a);c={top:d.top-20+"px",left:d.left+d.width-39+"px"},b={top:d.top+"px",left:d.left+d.width/2-25+"px"},this.$drag_handle.toggleClass("tcb-drag-small",d.width<150),d.width<150&&(b.left=d.left+d.width-59+"px"),this.$drag_handle.css(b),this.$el_icons.css(c),d.width>200?this.$el_name.css({top:d.top-23+"px",left:d.left-1+"px"}).show():this.$el_name.hide()},allow_state_selection:function(a){if(TVE.state_manager.is_default())return!0;var b=TVE._type(a);return TVE.Elements[b]&&TVE.Elements[b][TVE.state_manager.get_state()]}}}(jQuery)},"selectors.js":function(a,b,c){b.exports={editable:".thrv_wrapper:not(.thrv_text_element, .thrv_heading), .tve_ts_o span, span.tve_ts_copy-aut, .tve_ts_copy-aut span .tve_btnLink span, .tve_ct_title, .thrv_tw_qs_button span span, .tve_editable, .thrv-inline-text,.thrv-styled-list-item, .tve_faqB h4, .canvas-mode .tve_lg_input_container, .tcb-col",not_editable:".tcb-not-editable, .tcb-not-editable *, .thrive_leads_shortcode *, .thrive-shortcode-html, .thrive-shortcode-html *, .tve_custom_html_placeholder, .tve_custom_html_placeholder *, .thrv_custom_html_shortcode *, .thrv_post_grid *, .tve_no_edit, .tve_more_tag, .table_placeholder,  .table_placeholder *, .image_placeholder, .image_placeholder *, .borderless_placeholder, .borderless_placeholder *, .ui-datepicker-header *, .tve_wp_shortcode *, #tve_mce_holder *, .code_placeholder, .thrv_widget *, .tve_ts_o img, .thrv_widget_menu ul*,.thrv_lead_generation .thrv-columns,.thrv_lead_generation .tcb-col,.thrv_lead_generation:not(.canvas-mode) .thrv_icon",mouseover:".thrv_wrapper:not(.canvas-mode .thrv-columns), .tve_clearfix li, .tve_faq, .tve_p_lb_control, .thrv_feature_grid .tve_gri > .tve_image,.tve_element_hover, p.tve_more_tag, .tcb-col, .tve_faqB h4, .tve_editable, .canvas-mode .tve_lg_input_container",no_highlight:".thrive-shortcode-html *, .thrive_leads_shortcode *, .tcb-no-highlight,.thrv_lead_generation:not(.canvas-mode) .thrv_icon,.thrv_lead_generation .thrv-columns,.thrv_lead_generation:not(.canvas-mode) .tcb-col",no_icons:".tve_table_cell, .thrv_tw_quote p, .tve_p_lb_control, .tve_editor_main_content,.tve_lp_content, .tve_no_icons, .thrv_widget_menu .tve_menu_title, .tve_lg_input_container .thrv_icon,.thrive-shortcode-html, .thrive-shortcode-html *, .tve_faqB h4, .tve_editable,.tve_lg_input_container, .tve_lead_generated_inputs_container .thrv-columns, .thrv_lead_generation .thrv_icon,.canvas-mode",no_clone:".tve_gri .image_placeholder, .table_placeholder, .tcb-no-clone, .tve_no_duplicate, .tve_more_tag, .tcb-col, .thrv-inline-text",no_delete:".tcb-no-delete",get:function(a){var b=null;return void 0!==this[a]&&(b=TVE.apply_filters("selectors_"+a,this[a])),b}}},table:{"cell-manager.js":function(a,b,c){var d=c("./grid"),e=[];!function(a){a.fn.extend({tve_rows:function(){return 0===arguments.length?parseInt(this.attr("data-rows")):this.attr("data-rows",arguments[0])},tve_cols:function(){return 0===arguments.length?parseInt(this.attr("data-cols")):this.attr("data-cols",arguments[0])}});var c={table:null,$el:null,buttons:null,drag:{mouse_down:!1,start_element:null,current_element:null,is_head:!1},mouse_move_cells:"> thead > tr > th:not(.tve_merge_disabled), > tbody > tr > td:not(.tve_merge_disabled)",head_cells:"> thead > tr > th",body_cells:"> tbody > tr > td",head:null,body:null,grid:null,init:function(b){var c=!0;void 0!==b&&(c=!1,e=[],this.table=b,TVE.page_message("Hold down the left mouse button on a cell and drag it across the highlighted table to select multiple cells!",!1,5e3)),this.head=this.table.find("> thead"),this.body=this.table.find("> tbody"),this.$el=this.table.parent().addClass("canvas-mode"),this.table.addClass("tve_merge_cells").find("th, th *, td, td *").disableSelection(),this.buttons||(this.buttons=a("#tcb-table-panel")),TVE.Editor_Page.disable(),TVE.Editor_Page.GLOBAL_PREVENT_FOCUS=!0,TVE.main.switch_menu_to("custom","table"),this.showActionButtons(),this.bind(),this.table.tve_rows(0);var f=this.__head_grid=new d(this.head,!0),g=this.__body_grid=new d(this.body,!0);(isNaN(this.table.tve_cols())||isNaN(this.table.tve_rows()))&&(this.table.tve_rows(f.getRowCount()+g.getRowCount()),this.table.tve_cols(Math.max(f.getColCount(),g.getColCount()))),c&&e.length?(a.each(e,function(a){0===a?this.cell.trigger("mousedown"):this.cell.trigger("mousemove")}),e[e.length-1].cell.trigger("mouseup")):this.enableButtons(this.table.data("selected-cells")||[])},showActionButtons:function(){this.buttons.show().find(".tcb-table-btn").off("click").on("click",a.proxy(this.onActionClick,this)),this.positionButtons()},positionButtons:function(){var a=this.$el.offset(),b=TVE.Editor_Page.$body.offset();this.buttons.css({left:a.left-b.left+"px",top:a.top-b.top+"px",width:this.$el.outerWidth()}).find(".below-element").css("top",this.$el.outerHeight()+"px")},saveSelection:function(){e=this.table.data("selected-cells")||[]},clearSelection:function(){e=[]},onActionClick:function(a){var b=a.currentTarget.getAttribute("data-fn");if(this[b])return this[b](a.currentTarget.getAttribute("data-arg")||null)},bind:function(){this.table.off().on("mousedown",this.head_cells+", "+this.body_cells,jQuery.proxy(this.mouseDown,this)),this.table.on("mousemove",this.mouse_move_cells,jQuery.proxy(this.mouseOver,this)),this.table.on("mouseup",this.head_cells+", "+this.body_cells,jQuery.proxy(this.mouseUp,this)),a(TVE.Editor_Page).bind("editor.onenable",jQuery.proxy(this.cancel,this))},mouseDown:function(b){var c=a(b.currentTarget);return this.reset(),this.drag.mouse_down=!0,this.drag.start_element=c.addClass("tve_merge_selected"),c.is("td")?(this.table.find(this.head_cells).addClass("tve_merge_disabled"),this.drag.is_head=!1):(this.table.find(this.body_cells).addClass("tve_merge_disabled"),this.drag.is_head=!0),this.grid=new d(this.drag.is_head?this.head:this.body,!1),this.grid.setStartCell(this.drag.start_element),!1},mouseUp:function(b){this.drag.mouse_down=!1,!this.table.data("selected-cells")&&this.grid&&this.table.data("selected-cells",this.grid.getRange(this.drag.start_element,a(b.currentTarget))),this.table.find(".tve_merge_disabled").removeClass("tve_merge_disabled"),this.enableButtons(this.table.data("selected-cells"))},enableButtons:function(a){if(this.buttons.find(".m-disable").prop("disabled",!0),this.$el.addClass("edit_mode").find(".edit_mode").removeClass("edit_mode"),TVE.main.switch_menu_to("custom","table"),a&&!(a.length<1))if(a.length>1)this.buttons.find(".m-enable-more").prop("disabled",!1);else{this.buttons.find(".m-enable-one").prop("disabled",!1);var b=parseInt(a[0].cell.attr("rowspan")||1)+parseInt(a[0].cell.attr("colspan")||1)>2;this.buttons.find('[data-fn="split"]').prop("disabled",!b);var c=a[0].cell;this.select_element(c),c.__col=(this.head.length?this.__head_grid:this.__body_grid).getCell(0,a[0].real_col),c.__row=c.parent().children("td,th").first()}},select_element:function(a){this.$el.removeClass("edit_mode").find("td,th").removeClass("edit_mode"),TVE.main.element_selected(a.addClass("edit_mode"),{},!1)},mouseOver:function(b){if(!this.drag.mouse_down)return!1;this.table.find("td,th").removeClass("tve_merge_selected"),this.drag.current_element=a(b.currentTarget);var c=this.grid.getRange(this.drag.start_element,this.drag.current_element);this.table.data("selected-cells",c),jQuery.each(c,function(){this.cell.addClass("tve_merge_selected")})},reset:function(a){a=void 0!==a&&a,a||this.table.find(".tve_merge_selected").removeClass("tve_merge_selected"),this.table.find(".tve_merge_disabled").removeClass("tve_merge_disabled"),this.table.data("selected-cells",null).data("selected-colspan",null).data("selected-rowspan",null),this.drag={mouse_down:!1,start_element:null,current_element:null,is_head:!1}},cancel:function(b){return b=void 0!==b&&b,this.buttons.hide(),this.reset(b),this.table.removeClass("tve_merge_cells tve_table_light").off().find("th, th *, td, td *").enableSelection(),this.$el.removeClass("canvas-mode"),a(TVE.Editor_Page).unbind("editor.onenable"),TVE.Editor_Page.enable(),delete TVE.Editor_Page.GLOBAL_PREVENT_FOCUS,this.select_element(this.$el),this},merge:function(){if(this.table.data("selected-cells")){var b=a(),c="",d=a();jQuery.each(this.table.data("selected-cells"),function(a){0==a?b=this.cell:(d=d.add(this.cell),c+=this.cell.html())}),this.clearSelection(),this.cancel(),TVE.Editor_Page.before_action();var e=a("<div></div>").appendTo(b);b.attr({rowspan:this.grid.selection_rowspan,colspan:this.grid.selection_colspan}),(this.grid.selection_rowspan>1||this.grid.selection_colspan>1)&&(TVE.Components.table.disable_sort(),this.table.removeClass("tve_make_sortable")),TVE.drag.insert(c,e,!1,!0),d.remove(),TVE.Editor_Page.after_action(),this.init()}},split:function(){if(this.table.data("selected-cells")){var a=this.table.data("selected-cells"),b=this.grid;this.clearSelection(),this.cancel(),TVE.Editor_Page.before_action(),jQuery.each(a,function(){if(1==this.colspan&&1==this.rowspan)return!0;b.split(this)}),TVE.Editor_Page.after_action(),this.init()}},addRow:function(){var a,b=this.table.tve_rows(),c=this.table.tve_cols();this.table.tve_rows(b+1),0!==c&&(a=new d(0===b?this.head:this.body),this.saveSelection(),this.cancel(),TVE.Editor_Page.before_action(),a.insertRow(a.grid.length-1,"after",c),TVE.Editor_Page.after_action(),this.alternateColors(),this.init())},addColumn:function(){var a=this.table.tve_rows(),b=this.table.tve_cols();this.table.tve_cols(b+1),0!==a&&(this.saveSelection(),this.cancel(),TVE.Editor_Page.before_action(),this.table.find("> thead > tr").length&&new d(this.head).insertColumn(b-1,"after",this.table.find("> thead > tr").length),this.table.find("> tbody > tr").length&&new d(this.body).insertColumn(b-1,"after",a-this.table.find("> thead > tr").length),TVE.Editor_Page.after_action(),this.init())},removeColumn:function(){if(this.drag.start_element){var a=this.drag.start_element,b=this.drag.is_head;this.clearSelection(),this.cancel(),TVE.Editor_Page.before_action();var c=this.grid.selection_start.col,e=this.grid.removeColumn(a);b?new d(this.body).removeColumn(null,c,e):new d(this.head).removeColumn(null,c,e),this.table.tve_cols(this.table.tve_cols()-e),TVE.Editor_Page.after_action(),this.init()}},removeRow:function(){if(this.drag.start_element){var a=this.drag.start_element,b=new d(a.parent().parent());this.cancel(),this.clearSelection(),TVE.Editor_Page.before_action();var c=b.removeRow(a);this.table.tve_rows(this.table.tve_rows()-c),a.is("th")&&(TVE.Components.table.disable_sort(),this.table.removeClass("tve_make_sortable")),TVE.Editor_Page.after_action(),this.alternateColors(),this.init()}},insertColumn:function(a){if(this.drag.start_element&&(this.table.tve_cols(this.table.tve_cols()+1),0!=this.table.tve_rows())){var b=this.grid["before"==a?"selection_start":"selection_end"].col;this.saveSelection(),this.cancel(),TVE.Editor_Page.before_action(),this.table.find("> thead > tr").length&&new d(this.table.find("> thead")).insertColumn(b,a,this.table.find("> thead > tr").length),this.table.find("> tbody > tr").length&&new d(this.table.find("> tbody")).insertColumn(b,a,this.table.tve_rows()-this.table.find("> thead > tr").length),TVE.Editor_Page.after_action(),this.init()}},insertRow:function(a){if(this.drag.start_element&&(this.table.tve_rows(this.table.tve_rows()+1),0!==this.table.tve_cols())){var b=this.grid["before"===a?"selection_start":"selection_end"];this.saveSelection(),this.cancel(),TVE.Editor_Page.before_action(),this.grid.insertRow(b.row,a,this.table.tve_cols(),b.col),TVE.Editor_Page.after_action(),this.init()}},alternateColors:function(){if(this.table.hasClass("tve_table_alternating")){var b=this.body.find("tr.tve_odd").first().attr("data-tve-custom-colour"),c=this.body.find("tr.tve_even").first().attr("data-tve-custom-colour");this.body.find("tr").each(function(d,e){var f=a(e);f.removeClass("tve_odd tve_even"),f.addClass(d%2==0?"tve_odd":"tve_even"),b&&d%2==0&&f.attr("data-tve-custom-colour",b),c&&d%2!=0&&f.attr("data-tve-custom-colour",c)})}}};b.exports=c}(jQuery)},"editor.js":function(a,b,c){function d(a,b){for(var c="",d=0;d<b;d++)c+="<"+a+' class="tve_table_cell"></'+a+">";return'<tr class="tve_table_row">'+c+"</tr>"}var e=c("./cell-manager"),f={cell_manager:function(a){return e.init(a.find("> .tve_table"))},build:function(a,b){var c='<table data-rows="'+a+'" data-cols="'+b+'" class="tve_table tcb-fixed tve_no_inner_border tve_no_border tve_table_flat">';c+="<thead>"+d("th",b)+"</thead>",c+="<tbody>";for(var e=1;e<a;e++)c+=d("td",b);return c+="</tbody></table>"},refresh:function(){e.positionButtons()},close_editor:function(){e.cancel()}};b.exports=f},"grid.js":function(a,b,c){!function(a){function c(a){return a=a.jquery?a[0]:a,parseInt(a.getAttribute("rowspan")||1)}function d(a){return a=a.jquery?a[0]:a,parseInt(a.getAttribute("colspan")||1)}function e(a){return a?'<th class="tve_table_cell"></th>':'<td class="tve_table_cell"></td>'}function f(a){return a.clone().removeAttr("data-css").removeAttr("style").html("")}var g=function(b,e){var f=[];b.find("> tr").each(function(b){a(this).find("> td, > th").each(function(e){var g,h,i,j,k=a(this);if(f[b])for(;f[b][e];)e++;for(i=c(this),j=d(this),h=b;h<b+i;h++)for(f[h]||(f[h]=[]),g=e;g<e+j;g++)f[h][g]={cell:k,rowspan:i,colspan:j,exists:h==b&&g==e,processed:!1,real_row:b,real_col:e}})}),this.grid=f,this.startPos=null,this.selection_colspan=1,this.selection_rowspan=1,this.container=b,this.is_head=b.is("thead"),this.selection_start={row:null,col:null},this.selection_end={row:null,col:null},void 0!==e&&e&&(b.parent().tve_rows(parseInt(b.parent().tve_rows())+this.grid.length),this.grid[0]&&this.grid[0].length&&b.parent().tve_cols(this.grid[0].length))};g.prototype.getRange=function(b,c){var d=this.startPos,e=this.getCellPosition(c);if(!d||!e)return a();for(var f,g,h,i=Math.min(d.x,e.x),j=Math.max(d.x,e.x),k=Math.min(d.y,e.y),l=Math.max(d.y,e.y),m=l,n=j,o=0,p=!1,o=0;h=this.grid[o++];)for(var g,f=0;g=h[f++];)g.processed=!1;do{for(p=!1,o=i;o<=n;)g=this.grid[o][k],o+=g.rowspan,g.processed||g.exists||g.colspan>1&&(k=g.real_col,p=!0,g.processed=!0);for(f=k;f<=m;)g=this.grid[i][f],f+=g.colspan,g.processed||g.exists||g.rowspan>1&&(i=g.real_row,p=!0,g.processed=!0);for(o=i;o<=n;o++)for(f=k;f<=m;f++)g=this.grid[o][f],g.exists&&!g.processed&&(g.colspan>1&&g.colspan-1+f>m&&(m=f+g.colspan-1,p=!0,g.processed=!0),g.rowspan>1&&g.rowspan-1+o>n&&(n=o+g.rowspan-1,p=!0,g.processed=!0))}while(p);var q=[];for(o=i;o<=n;o++)for(f=k;f<=m;f++)this.grid[o][f]&&this.grid[o][f].exists&&q.push(this.grid[o][f]);return this.selection_rowspan=n-i+1,this.selection_colspan=m-k+1,this.selection_start.row=i,this.selection_start.col=k,this.selection_end.row=n,this.selection_end.col=m,q},g.prototype.getCellPosition=function(a){for(var b=0,c=this.grid.length;b<c;b++)for(var d=0,e=this.grid[b].length;d<e;d++)if(this.grid[b][d].cell[0]===a[0])return{x:b,y:d};return null},g.prototype.setStartCell=function(a){this.startPos=this.getCellPosition(a)},g.prototype.split=function(a){var b=null;a.cell.attr("colspan",1).attr("rowspan",1);for(var c=1;c<a.colspan;c++)b=f(a.cell),a.cell.after(b),TVE.drag.bind_draggable(b);if(1!=a.rowspan)for(var d=a.cell.parent(),e=a.real_row+1;e<a.real_row+a.rowspan;e++)if(d=d.next("tr"),0!=d.find("> td, > th").length){for(var g=a.real_col-1;g>=0;g--)if(this.grid[e][g].real_row==e){for(var h=0;h<a.colspan;h++)b=f(a.cell),this.grid[e][g].cell.after(b),TVE.drag.bind_draggable(b);break}if(0==a.real_col||-1==g)for(var h=0;h<a.colspan;h++)b=f(a.cell),d.prepend(b),TVE.drag.bind_draggable(b)}else for(var h=0;h<a.colspan;h++)b=f(a.cell),d.append(b),TVE.drag.bind_draggable(b)},g.prototype.removeColumn=function(a,b,c){a&&(c=d(a),b=this.getCellPosition(a).y);for(var e,f=0;e=this.grid[f++];)for(var g=b;g<b+c;g++){var h=e[g];1==h.colspan||a&&h.cell[0]===a[0]?h.cell.remove():h.real_col>=b&&h.real_col+h.colspan<=b+c?h.cell.remove():h.colspan>1?h.real_col<=b?h.real_col+h.colspan>=b+c?h.cell.attr("colspan",h.colspan-c):h.cell.attr("colspan",Math.abs(b-h.real_col)):h.cell.attr("colspan",h.real_col+h.colspan-b-c):h.cell.remove()}return c},g.prototype.removeRow=function(b){for(var e=c(b),g=this.getCellPosition(b),h=a(),i=g.x;i<=g.x+e-1;i++)for(var j=0;j<this.grid[g.x].length;j++){var k=this.grid[i][j];if(j!=g.y&&1!=c(k.cell))if(k.exists)if(c(k.cell)+i<=g.x+e);else{var l=g.x+e-i,m=f(k.cell).attr("rowspan",c(k.cell)-l);k.cell.attr("rowspan",l);var n=b.parent().next(),o=g.x+e;if(n.length>0){0==n.find("> td, > th").length&&n.append(m);for(var p=k.real_col-1;p>=0;p--)if(this.grid[o][p].real_row==o){this.grid[o][p].cell.after(m);break}0!=k.real_col&&-1!=p||n.prepend(m)}}else k.cell.attr("rowspan",c(k.cell)-1),j+=d(k.cell)-1;else h=h.add(this.container.find("> tr:nth-child("+(i+1)+")"))}return h.remove(),e},g.prototype.insertColumn=function(b,c,d){for(var g=e(this.is_head),h=this.grid[0]&&this.grid[0].length,i=a(),j=0;j<d;j++){var k,l=h?this.grid[j][b]:null;if(l){var m=f(l.cell).attr("colspan","1").attr("rowspan","1"),k=this.getRealRow(j),n=!1;if(b!=this.grid[0].length-1||"after"!=c)if(0!=b||"before"!=c)if(l.colspan>1&&("after"==c&&l.real_col+l.colspan-1>b?(l.cell.attr("colspan",l.colspan+1),n=!0):"before"==c&&l.real_col<b&&(l.cell.attr("colspan",l.colspan+1),n=!0)),n)j+=l.rowspan-1;else{l="after"==c?this.getLastRealCell(j,b):this.getNextRealCell(j,b);var o=c;if(null===l&&(l="after"==c?this.getNextRealCell(j,b):this.getLastRealCell(j,b),o="after"==c?"before":"after"),null===l){k.append(m),i=i.add(m);continue}l.cell[o](m),i=i.add(m)}else k.prepend(m),i=i.add(m);else k.append(m),i=i.add(m)}else k=this.container.find("> tr:nth-child("+(j+1)+")"),k=k.length?k:a('<tr class="tve_table_row"></tr>').appendTo(this.container),i=i.add(a(g)),k.append(i.last())}TVE.drag.bind_draggable(i)},g.prototype.insertRow=function(b,c,d){var g=e(this.is_head),h=a('<tr class="tve_table_row"></tr>');if(-1===b){for(var i=0;i<d;i++)h.append(a(g));return void this.container.append(h)}for(var j=this.getRealRow(b),k=a(),l=0;l<d;l++){var m=this.grid[b][l],n=!1;m.rowspan>1&&("after"==c&&m.real_row+m.rowspan-1>b?(m.cell.attr("rowspan",m.rowspan+1),n=!0):"before"==c&&m.real_row<b&&(m.cell.attr("rowspan",m.rowspan+1),n=!0)),n||(k=k.add(f(this.grid[b][l].cell).attr({rowspan:1,colspan:1})))}j[c](h.append(k)),TVE.drag.bind_draggable(h)},g.prototype.getRealRow=function(b){if(!this.grid[b])return a();for(var c,d=0;c=this.grid[b][d++];)if(c.real_row==b)return c.cell.parent();return this.container.find("tr:nth-child("+ ++b+")")},g.prototype.getLastRealCell=function(a,b){if(!this.grid[a])return null;for(var c=b;c>=0;c--)if(this.grid[a][c].real_row==a&&this.grid[a][c].real_col==c)return this.grid[a][c];return null},g.prototype.getNextRealCell=function(a,b){if(!this.grid[a])return null;for(var c=b,d=this.grid[a].length;c<d;c++)if(this.grid[a][c].real_row==a&&this.grid[a][c].real_col==c)return this.grid[a][c];return null},g.prototype.getRowCount=function(){return this.grid.length},g.prototype.getColCount=function(){return this.grid[0]?this.grid[0].length:0},g.prototype.getCell=function(a,b){return this.grid[a][b].cell},b.exports=g}(jQuery)}}}}}}}}})("workspace/editor/js/editor/src/editor");